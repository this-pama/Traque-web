(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{539:function(e,t,n){},581:function(e,t,n){},598:function(e,t){},712:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"MinistryAction",(function(){return ze})),n.d(a,"AdminAction",(function(){return qe})),n.d(a,"DepartmentAction",(function(){return Ye})),n.d(a,"SubDepartmentAction",(function(){return Ke})),n.d(a,"StaffAction",(function(){return $e})),n.d(a,"IncomingFileAction",(function(){return nt})),n.d(a,"OutgoingFileAction",(function(){return it})),n.d(a,"InProcessFileAction",(function(){return lt})),n.d(a,"SentFileAction",(function(){return ut})),n.d(a,"DelayedFileAction",(function(){return bt})),n.d(a,"RegistryAction",(function(){return ht}));var r=n(1),i=(n(334),n(0)),o=n.n(i),c=n(28),l=n.n(c),s=(n(539),n(6)),d=n(33),u=n(34),p=n(147),f=n(36),b=n(35),m=n(27),j=n(17),h=n.n(j),x=n(14),g=n(19),O=n(40),v=n(7),y=n.n(v),w=n(18),k="SET_USER_DATA",C="CLEAR_STORE",S=function(e){return function(t){e.userId&&h.a.get("/v1/user/".concat(e.userId)).then((function(e){var n;t((n=e.data,{type:k,payload:n}))}))}},N=function(){return function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:C}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=n(329),F=function(e){var t=e.isAllowed,n=Object(_.a)(e,["isAllowed"]);return t?Object(r.jsx)(g.b,Object(s.a)({},n)):Object(r.jsx)(g.a,{to:"/login"})},D=n(323),T=n(3),L=n(21),P=n(8),E=n(9),A=n.p+"static/media/logo.ae98358b.png",M=n.p+"static/media/login2.0a114d65.png",B=n(10),R=n(11),I=n(13),z=n(86),G=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(a){}},V=function(e){try{localStorage.removeItem(e)}catch(t){}},q="USER_STATE",W=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(n){return}}(q)||null,U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var n=Object(s.a)(Object(s.a)({},e),t.payload);return G(q,n),n;case C:return V(q),null;default:return e}},H=Object(z.c)({user:U}),Y=function(e,t){return t.type===C&&(e=void 0),H(e,t)},J=n(324),X=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):z.d)(Object(z.a)(J.a)),K=Object(z.e)(Y,X);function Q(){var e=Object(P.a)(["\n    .login {\n        width: 100vw;\n        height: 100vh;\n        background-color: #193A9D;\n        // background-image: url(",")\n        color: #fff;\n        text-align: center;\n        &--banner {\n            width: 20px;\n            min-height: 20px;\n            margin: 0 auto;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            // padding: 30px;\n        }\n        &--title {\n            text-transform: uppercase;\n            font-weight: 600;\n            font-size: 1.6rem;\n            margin: 1rem 0;\n        }\n        &--border {\n            margin: 0 20rem 0 20rem;\n            align-items: center;\n            justify-content: center;\n            align-items: center;\n        }\n        &--description {\n            font-size: 0.8rem;\n            // margin: 1rem 0;\n            justify-content: center;\n            align-item: center;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        &--paragraph {\n            font-size: 0.8rem;\n            margin-top: -2rem;\n            display: flex;\n            align-items: center;\n            justify-content: ;\n            padding-bottom: 1rem;\n        }\n        &&--card {\n            align-items: center;\n            justify-content: ;\n            display: flex;\n            color: red;\n        }\n        .card {\n            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n            transition: 0.3s;\n            background-color: #fff;\n            color: #193A9D;\n            padding: 1rem;\n            border-radius: 10px;\n          }\n        .card:hover {\n            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\n        }\n        .container {\n            padding: 2px 16px;\n        }\n        .button {\n            padding: 1rem;\n            background-color: #1841BA;\n            color: #fff;\n            font-weight: bold;\n            border-radius: 0.5rem;\n            cursor: pointer;\n        }\n        .link{\n            color: #fff;\n        }\n\n        .footer{\n            // display: flex;\n            color: #AEAFB0;\n            font-size: 12px;\n            padding-top: 1rem;\n            // position: absolute;\n        }\n        .wfp--label{\n            color: #1841BA\n        }\n        .wfp--input{\n            border-radius: 0.5rem;\n        }\n}\n"]);return Q=function(){return e},e}var Z=E.b.div(Q(),A),$=function(e){var t=Object(i.useState)(!1),n=Object(L.a)(t,2),a=n[0],o=n[1],c=function(){var t=Object(w.a)(y.a.mark((function t(n){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,a={email:n.email,password:n.password},t.next=5,h.a.post("/v1/account/login",a).then((function(t){t.data&&K.dispatch(S(t.data)),t.data&&t.data.isSuper?e.history.push("/ministry"):t.data&&t.data.isAdmin?e.history.push("/department"):t.data&&t.data.isStaff&&e.history.push("/file"),o(!1)}));case 5:t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("Ooops! login failed",t.t0),I.b.error("Ooops! login failed",{closeOnClick:!0,autoClose:1e3}),o(!1);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)(Z,{children:Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("div",{className:"login--banner",children:Object(r.jsx)("img",{src:A,alt:"Logo",style:{width:150,height:150}})}),Object(r.jsx)("div",{className:"login--border",children:Object(r.jsx)("p",{className:"login--paragraph",children:"Introducing Traquer, a passionate bird that helps you watch over your files while you go about your daily business. Traquer is a location file tracking system. A simulation of manual file movement to electronic file monitoring"})}),Object(r.jsxs)("div",{className:"login--border",children:[Object(r.jsx)(T.h,{active:a,withOverlay:!0}),Object(r.jsx)("div",{children:Object(r.jsxs)("div",{class:"card",children:[Object(r.jsx)("div",{style:{justifyContent:"center",alignItems:"center"},children:Object(r.jsx)("img",{src:M,alt:"Logo",style:{width:"30%",height:"30%"}})}),Object(r.jsx)("div",{class:"container",children:Object(r.jsx)(R.b,{onSubmit:c,validate:function(e){var t={},n=e.password;return e.email||(t.email={value:"Email required"}),n||(t.password={value:"Password required"}),t},render:function(e){e.values,e.onSave,e.valid,e.reset;return Object(r.jsx)("form",{children:Object(r.jsx)(B.Grid,{fluid:!0,children:Object(r.jsxs)(B.Row,{children:[Object(r.jsx)(B.Col,{xs:2,md:2}),Object(r.jsxs)(B.Col,{xs:8,md:8,children:[Object(r.jsx)(R.b,{onSubmit:c,render:function(e){var t=e.values;e.errors;return Object(r.jsx)("form",{className:"wfp--form-long",children:Object(r.jsx)("div",{children:Object(r.jsxs)(T.f,{className:"some-class",children:[Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"email",name:"email",type:"text",labelText:"Email"}),Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"password",name:"password",type:"password",labelText:"Password"}),Object(r.jsx)("div",{className:"button",type:"submit",onClick:function(e){e.preventDefault(),c(t)},children:"LOGIN"})]})})})}}),Object(r.jsxs)("div",{className:"footer",children:[Object(r.jsx)("div",{style:{float:"left"},children:Object(r.jsx)(T.e,{checked:!0,id:"check-2",labelText:"Remember me"})}),Object(r.jsx)("div",{style:{float:"right",cursor:"pointer"},children:Object(r.jsx)(x.b,{to:"/reset-password",children:"Forgot password?"})})]})]}),Object(r.jsx)(B.Col,{xs:2,md:2})]})})})}})})]})}),Object(r.jsx)("div",{style:{paddingTop:20}}),Object(r.jsx)(x.b,{className:"link",to:"/activate",children:"Activate account"})]})]})})},ee=n.p+"static/media/signup.0b685196.png";function te(){var e=Object(P.a)(["\n    .login {\n        // width: 100vw;\n        // height: 100vh;\n        background-color: #193A9D;\n        // background-image: url(",")\n        color: #fff;\n        text-align: center;\n        &--banner {\n            width: 20px;\n            min-height: 20px;\n            margin: 0 auto;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            // padding: 30px;\n        }\n        &--title {\n            text-transform: uppercase;\n            font-weight: 600;\n            font-size: 1.6rem;\n            margin: 1rem 0;\n        }\n        &--border {\n            margin: 0 20rem 0 20rem;\n            align-items: center;\n            justify-content: center;\n            align-items: center;\n        }\n        &--description {\n            font-size: 0.8rem;\n            // margin: 1rem 0;\n            justify-content: center;\n            align-item: center;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        &--paragraph {\n            font-size: 0.8rem;\n            margin-top: -2rem;\n            display: flex;\n            align-items: center;\n            justify-content: ;\n            padding-bottom: 1rem;\n        }\n        &&--card {\n            align-items: center;\n            justify-content: ;\n            display: flex;\n            color: red;\n        }\n        .card {\n            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n            transition: 0.3s;\n            background-color: #fff;\n            color: #193A9D;\n            padding: 1rem;\n            border-radius: 10px;\n          }\n        .card:hover {\n            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\n        }\n        .container {\n            padding: 2px 16px;\n        }\n        .button {\n            padding: 1rem;\n            background-color: #1841BA;\n            color: #fff;\n            font-weight: bold;\n            border-radius: 0.5rem;\n            cursor: pointer;\n        }\n        .link{\n            color: #fff;\n        }\n\n        .footer{\n            // display: flex;\n            color: #AEAFB0;\n            font-size: 14px;\n            // padding-top: 1rem;\n            padding-bottom: 2rem;\n        }\n        .wfp--label{\n            color: #1841BA\n        }\n        .wfp--input{\n            border-radius: 0.5rem;\n        }\n}\n"]);return te=function(){return e},e}var ne=E.b.div(te(),A),ae=function(e){var t=Object(i.useState)(!1),n=Object(L.a)(t,2),a=n[0],o=n[1],c=function(){var e=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,n={password:t.password,confirmPassword:t.confirm},e.next=5,h.a.post("/v1/user/validate",{activationKey:t.code}).then(function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.message||"success"!=t.data.message){e.next=2;break}return e.abrupt("return",l(t.data,n));case 2:return o(!1),e.abrupt("return",I.b.error("Ooops! login failed",{closeOnClick:!0,autoClose:1e3}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Ooops! activation error",e.t0),I.b.error("Ooops! activation failed",{closeOnClick:!0,autoClose:1e3}),o(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var t=Object(w.a)(y.a.mark((function t(n,a){var r,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.data.key.userId,i=n.data.user.email,t.next=4,h.a.post("/v1/user/activate/".concat(r),Object(s.a)(Object(s.a)({},a),{},{email:i})).then((function(t){t.data&&"success"==t.data.message&&(Object(I.b)("Account activation successful",{closeOnClick:!0,autoClose:1e3}),e.history.push("/login")),I.b.error("Ooops! activation failed",{closeOnClick:!0,autoClose:1e3}),o(!1)})).catch((function(e){I.b.error("Ooops! activation failed",{closeOnClick:!0,autoClose:1e3}),o(!1)}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(r.jsx)(ne,{children:Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("div",{className:"login--banner",children:Object(r.jsx)("img",{src:A,alt:"Logo",style:{width:150,height:150}})}),Object(r.jsx)("div",{className:"login--border",children:Object(r.jsx)("p",{className:"login--paragraph",children:"Introducing Traquer, a passionate bird that helps you watch over your files while you go about your daily business. Traquer is a location file tracking system. A simulation of manual file movement to electronic file monitoring"})}),Object(r.jsxs)("div",{className:"login--border",children:[Object(r.jsx)(T.h,{active:a,withOverlay:!0}),Object(r.jsx)("div",{children:Object(r.jsxs)("div",{class:"card",children:[Object(r.jsx)("div",{style:{justifyContent:"center",alignItems:"center"},children:Object(r.jsx)("img",{src:ee,alt:"Logo",style:{width:"30%",height:"30%"}})}),Object(r.jsx)("div",{class:"container",children:Object(r.jsx)(R.b,{onSubmit:c,validate:function(e){var t={},n=e.password;return e.email||(t.email={value:"Email required"}),n||(t.password={value:"Password required"}),t},render:function(e){e.values,e.onSave,e.valid,e.reset;return Object(r.jsx)("form",{children:Object(r.jsx)(B.Grid,{fluid:!0,children:Object(r.jsxs)(B.Row,{children:[Object(r.jsx)(B.Col,{xs:2,md:2}),Object(r.jsx)(B.Col,{xs:8,md:8,children:Object(r.jsx)(R.b,{onSubmit:c,render:function(e){var t=e.values;e.errors;return Object(r.jsx)("form",{className:"wfp--form-long",children:Object(r.jsx)("div",{children:Object(r.jsxs)(T.f,{className:"some-class",children:[Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"code",name:"code",type:"text",labelText:"Activation code"}),Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"password",name:"password",type:"password",labelText:"Password"}),Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"confirm",name:"confirm",type:"password",labelText:"Confirm Password"}),Object(r.jsx)("div",{className:"button",type:"submit",onClick:function(e){e.preventDefault(),c(t)},children:"SIGN UP"})]})})})}})}),Object(r.jsx)(B.Col,{xs:2,md:2})]})})})}})})]})}),Object(r.jsx)("div",{style:{paddingTop:20}}),Object(r.jsxs)("div",{className:"footer",children:["Already registered?",Object(r.jsxs)("span",{style:{color:"white",fontWeight:"bold"},children:["  ",Object(r.jsx)(x.b,{className:"link",to:"/login",children:"Login"})]})]})]})]})})},re=(n(82),n(31)),ie=function(e){return Object(r.jsxs)(T.r,{pageWidth:"lg",additional:e.additional,children:[e.l1Label&&Object(r.jsxs)(T.a,{children:[Object(r.jsx)(T.c,{children:Object(r.jsx)(x.b,{to:"#",className:"wfp--link",children:Object(r.jsx)(T.b,{})})}),e.l1Label&&Object(r.jsx)(T.c,{children:Object(r.jsx)(x.b,{to:e.l1Link,children:e.l1Label})}),e.l2Label&&Object(r.jsx)(T.c,{children:Object(r.jsx)(x.b,{to:e.l2Link,children:e.l2Label})}),e.l3Label&&Object(r.jsx)(T.c,{children:Object(r.jsx)(x.b,{to:e.l3Link,children:e.l3Label})}),e.l4Label&&Object(r.jsx)(T.c,{children:Object(r.jsx)(x.b,{to:e.l4Link,children:e.l4Label})})]}),e.pageTitle?Object(r.jsx)(T.s,{children:e.pageTitle}):null,e.tabs?e.tabs:null]})},oe=n(5);function ce(){var e=Object(P.a)(["\n    margin-bottom: 30px;\n"]);return ce=function(){return e},e}var le=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={lastSaved:null,formData:null,showErrors:!1,loading:!1,admin:[]},e.fetchAdmin=Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{h.a.get("/v1/user/admin/admin-list").then((function(t){return e.setState({admin:t.data.data})}))}catch(n){console.log("Error while loading ministry",n)}case 1:case"end":return t.stop()}}),t)}))),e.onSubmit=function(){var t=Object(w.a)(y.a.mark((function t(n){var a,r,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({loading:!0}),a=e.props.location,r=a.state,t.prev=3,!r||!r.edit){t.next=12;break}return i={name:n.ministry,userId:n.admin._id},t.next=8,h.a.put("/v1/ministry/update/".concat(r.id),i).then((function(){return e.setState({loading:!1})}));case 8:Object(I.b)("Successfully updated a ministry",{closeOnClick:!0,autoClose:1e3}),e.props.history.goBack(),t.next=16;break;case 12:return t.next=14,h.a.post("/v1/ministry/add",{name:n.ministry}).then((function(){return e.setState({loading:!1})}));case 14:Object(I.b)("Successfully created a ministry",{closeOnClick:!0,autoClose:1e3}),e.props.history.goBack();case 16:t.next=23;break;case 18:t.prev=18,t.t0=t.catch(3),console.log("Ooops! error occurred, please try again",t.t0),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),e.setState({loading:!1});case 23:case"end":return t.stop()}}),t,null,[[3,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.fetchAdmin();var e=this.props.location.state;e&&e.edit&&e.data&&this.setState({formData:{ministry:e.data.name,admin:e.data.userId}})}},{key:"render",value:function(){var e=this,t=this.state.showErrors,n=this.state,a=n.formData,i=n.loading,o=n.admin,c=this.props.location.state;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie,{l1Label:"Ministry",l1Link:"/ministry",l2Label:c&&c.edit?"Update ministry":"Create ministry",l2Link:"#",pageTitle:c&&c.edit?"Update ministry":"Create ministry"}),i?Object(r.jsx)(T.h,{active:!0,withOverlay:!0}):Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",mobilePageWidth:"full",children:Object(r.jsx)(R.b,{onSubmit:this.onSubmit,initialValues:a,validate:function(e){var n={};return e.ministry||(n.ministry={value:"Ministry name is required",show:t}),n},render:function(n){var a=n.values;n.onSave,n.valid,n.reset;return Object(r.jsxs)("form",{children:[Object(r.jsxs)(T.l,{noMargin:!0,children:[Object(r.jsx)(T.o,{children:Object(r.jsx)("span",{style:{fontSize:20},children:c&&c.edit?"Update ministry":"Create ministry"})}),Object(r.jsxs)(T.m,{children:[Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(de,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"ministry",name:"ministry",type:"text",labelText:"Ministry name"})})}),c&&c.edit?Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(de,{children:Object(r.jsx)(R.a,{component:T.p,name:"admin",labelText:"Admin",placeholder:"Select designated admin",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Designated Admin"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:o,getOptionValue:function(e){return e._id},getOptionLabel:function(e){return e.firstName+" "+e.lastName}},t),n))]})}})})}):null]}),Object(r.jsxs)(T.n,{children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{style:{width:"100%",textAlign:"right",margin:"1.5rem 0"},children:[Object(r.jsx)(T.d,{kind:"secondary",onClick:function(){return e.props.history.goBack()},children:"Go back"}),Object(r.jsx)(T.d,{onClick:function(t){t.preventDefault(),e.onSubmit(a)},children:c&&c.edit?"Update":"Create"})]})]})]}),t&&Object(r.jsx)("div",{style:{padding:"5px",width:"100%",background:"#C5192D",color:"white",textAlign:"center"},children:"Please fill in all required fields"})]})}})})})]})}}]),n}(o.a.Component),se=Object(g.g)(le),de=E.b.div(ce());function ue(){var e=Object(P.a)(['\n    .footer {\n        font-family: "Open Sans",sans-serif;\n        border-top: 2px solid #fff;\n        // background-color: #1841BA;\n        z-index: 5000;\n        padding: 1.25rem 0;\n        font-size: 12px;\n    }\n}\n.wrapper {\n    padding-left: 1rem;\n    padding-right: 1rem;\n    margin: auto;\n    width: 100%;\n}\n.wrapper--width-lg {\n    max-width: 1200px;\n}\n.footer__content {\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-height: 3.5rem;\n    width: 100%;\n    color: #1841BA;\n}\n']);return ue=function(){return e},e}var pe=E.b.div(ue()),fe=function(e){return Object(r.jsx)(pe,{children:Object(r.jsx)("footer",{className:"footer",children:Object(r.jsx)("div",{className:"wrapper wrapper--width-lg",children:Object(r.jsxs)("div",{className:"footer__content",children:["Copyright ",(new Date).getFullYear()," @ Traquer"]})})})})};n(579),n(580),n(581);function be(){var e=Object(P.a)(["\n    .login {\n        width: 100vw;\n        height: 100vh;\n        background-color: #193A9D;\n        // background-image: url(",")\n        color: #fff;\n        text-align: center;\n        &--banner {\n            width: 20px;\n            min-height: 20px;\n            margin: 0 auto;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            // padding: 30px;\n        }\n        &--title {\n            text-transform: uppercase;\n            font-weight: 600;\n            font-size: 1.6rem;\n            margin: 1rem 0;\n        }\n        &--border {\n            margin: 0 20rem 0 20rem;\n            align-items: center;\n            justify-content: center;\n            align-items: center;\n        }\n        &--description {\n            font-size: 0.8rem;\n            // margin: 1rem 0;\n            justify-content: center;\n            align-item: center;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        &--paragraph {\n            font-size: 1rem;\n            margin-top: 0rem;\n            display: flex;\n            align-items: center;\n            justify-content:center;\n            padding-bottom: 1rem;\n        }\n        &&--card {\n            align-items: center;\n            justify-content: ;\n            display: flex;\n            color: red;\n        }\n        .card {\n            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n            transition: 0.3s;\n            background-color: #fff;\n            color: #193A9D;\n            padding: 1rem;\n            border-radius: 10px;\n          }\n        .card:hover {\n            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\n        }\n        .container {\n            padding: 2px 16px;\n        }\n        .button {\n            padding: 1rem;\n            background-color: #1841BA;\n            color: #fff;\n            font-weight: bold;\n            border-radius: 0.5rem;\n            cursor: pointer;\n        }\n        .link{\n            color: #fff;\n        }\n\n        .footer{\n            // display: flex;\n            color: #AEAFB0;\n            font-size: 14px;\n            // padding-top: 1rem;\n            padding-bottom: 2rem;\n        }\n        .wfp--label{\n            color: #1841BA\n        }\n        .wfp--input{\n            border-radius: 0.5rem;\n        }\n}\n"]);return be=function(){return e},e}var me=E.b.div(be(),A),je=function(e){var t=Object(i.useState)(!1),n=Object(L.a)(t,2),a=n[0],o=n[1],c=Object(i.useState)(!1),l=Object(L.a)(c,2),s=l[0],d=l[1],u=function(){var e=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,n={email:t.email},e.next=5,h.a.post("/v1/account/forgot",n).then((function(e){e.data.success?d(!0):I.b.error("Ooops! error occurred. Please try again",{closeOnClick:!0,autoClose:1e3}),o(!1)}));case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Error occurred",e.t0),I.b.error("Ooops! erro occured",{closeOnClick:!0,autoClose:1e3}),o(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var t=Object(w.a)(y.a.mark((function t(n){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,a={password:n.password,confirmPassword:n.confirm},t.next=5,h.a.post("/v1/account/reset/".concat(n.code),a).then((function(t){t.data.success?(Object(I.b)("Successfully reset password",{closeOnClick:!0,autoClose:1e3}),e.history.push("/login")):t.data.message?I.b.error(t.data.message,{closeOnClick:!0,autoClose:1e3}):I.b.error("Ooops! error occurred. Please try again",{closeOnClick:!0,autoClose:1e3}),o(!1)}));case 5:t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("Error occurred",t.t0),I.b.error("Ooops! erro occured",{closeOnClick:!0,autoClose:1e3}),o(!1);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)(me,{children:Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("div",{className:"login--banner",children:Object(r.jsx)("img",{src:A,alt:"Logo",style:{width:150,height:150}})}),Object(r.jsx)("div",{className:"login--border",children:Object(r.jsx)("p",{className:"login--paragraph",children:"A code will be sent to your email address."})}),Object(r.jsxs)("div",{className:"login--border",children:[Object(r.jsx)(T.h,{active:a,withOverlay:!0}),Object(r.jsx)("div",{children:Object(r.jsxs)("div",{class:"card",children:[Object(r.jsx)("div",{style:{justifyContent:"center",alignItems:"center"},children:Object(r.jsx)("img",{src:ee,alt:"Logo",style:{width:"30%",height:"30%"}})}),Object(r.jsx)("div",{class:"container",children:Object(r.jsx)(R.b,{onSubmit:u,validate:function(e){var t={},n=e.password;return e.email||(t.email={value:"Email required"}),n||(t.password={value:"Password required"}),t},render:function(e){e.values,e.onSave,e.valid,e.reset;return Object(r.jsx)("form",{children:Object(r.jsx)(B.Grid,{fluid:!0,children:Object(r.jsxs)(B.Row,{children:[Object(r.jsx)(B.Col,{xs:2,md:2}),Object(r.jsx)(B.Col,{xs:8,md:8,children:Object(r.jsx)(R.b,{onSubmit:u,render:function(e){e.handleSubmit,e.submitError,e.form,e.submitting,e.pristine;var t=e.values;e.errors;return Object(r.jsx)("form",{className:"wfp--form-long",children:0==s?Object(r.jsx)("div",{children:Object(r.jsxs)(T.f,{className:"some-class",children:[Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"email",name:"email",type:"text",labelText:"Email"}),Object(r.jsx)("div",{style:{paddingBottom:20},children:Object(r.jsx)("div",{className:"button",type:"submit",onClick:function(){return u(t)},children:"SUBMIT"})})]})}):Object(r.jsx)("div",{children:Object(r.jsxs)(T.f,{className:"some-class",children:[Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"code",name:"code",type:"text",labelText:"Activation code"}),Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"password",name:"password",type:"password",labelText:"New Password"}),Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"confirm",name:"confirm",type:"password",labelText:"Confirm Password"}),Object(r.jsx)("div",{style:{paddingBottom:10},children:Object(r.jsx)("div",{className:"button",type:"submit",onClick:function(){return p(t)},children:"SUBMIT"})})]})})})}})}),Object(r.jsx)(B.Col,{xs:2,md:2})]})})})}})})]})}),Object(r.jsx)("div",{style:{paddingTop:20}})]})]})})};function he(){var e=Object(P.a)(["\n    background-color: #EEF1FA;\n    color: #1841BA;\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    text-align: right;\n    padding-right: 10rem;\n    font-size: 14px;\n    .account {\n        margin: 0.7rem; \n    }\n\n    .dropdown {\n        position: relative;\n        display: inline-block;\n    }\n\n    .dropdown-content {\n        display: none;\n        position: absolute;\n        text-align: left !important;\n        background-color: #fff;\n        min-width: 160px;\n        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n        z-index: 1;\n    }\n\n    .dropdown-content a {\n        color: black;\n        padding: 12px 16px;\n        text-decoration: none;\n        display: block;\n    }\n\n    .dropdown-content a:hover {background-color: #ddd;}\n\n    .dropdown:hover .dropdown-content {display: block;}\n\n    .dropdown:hover {background-color: #EEF1FA; }\n"]);return he=function(){return e},e}var xe=E.b.div(he()),ge=function(e){return Object(r.jsx)(xe,{children:Object(r.jsx)("div",{className:"background",children:Object(r.jsx)("div",{className:"account",children:Object(r.jsxs)("div",{class:"dropdown",children:[Object(r.jsx)(T.g,{icon:oe.t,color:"#1841BA",width:20,height:20}),"  ","  ",Object(r.jsx)("span",{style:{paddingTop:-20},children:"Hi,"}),Object(r.jsxs)("div",{class:"dropdown-content",children:[Object(r.jsx)("a",{href:"#",children:"Link 1"}),Object(r.jsx)("a",{href:"#",children:"Link 2"}),Object(r.jsx)("a",{href:"#",children:"Link 3"})]})]})})})})};function Oe(){var e=Object(P.a)(["\n    background-color: #1841BA;\n    color: #fff;\n    // text-align: center;\n    width: 100%;            \n    .wrapper{\n        margin: 2rem 0 1rem 2rem;\n        display: flex;\n    }\n    .text-wrapper {\n        justfy-content: center;\n        align-item: center;\n        margin-top: 2rem;\n        text-align: center;\n        // position: absolute;\n    }\n\n    .wfp--search--lg .wfp--search-input {\n        background-color: #1841BA;\n        color: white;\n        border: 2px solid white;\n        border-color: white;\n    }\n\n    .wfp--search-magnifier {\n        fill: #fff;\n    }\n"]);return Oe=function(){return e},e}var ve=E.b.div(Oe()),ye=function(e){return Object(r.jsx)(B.Row,{children:Object(r.jsx)(ve,{children:Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsx)(B.Col,{xs:3,md:3,children:Object(r.jsx)("img",{src:A,alt:"Logo",style:{width:80,height:80,marginTop:"1rem"}})}),Object(r.jsx)(B.Col,{xs:6,md:6,children:Object(r.jsx)("div",{className:"text-wrapper",children:Object(r.jsx)(T.q,{className:"some-class",kind:"large",name:"input-name",closeButtonLabelText:"The label text for the close button (closeButtonLabelText)",placeHolderText:"Search"})})}),Object(r.jsx)(B.Col,{xs:3,md:3})]})})})};function we(){var e=Object(P.a)(["\n    // background-color: #fff;\n}\n"]);return we=function(){return e},e}E.b.div(we());var ke=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(ge,{}),Object(r.jsx)(ye,{}),Object(r.jsx)(fe,{})]})};function Ce(){var e=Object(P.a)(["\n    position: relative;\n    min-height: 120px;\n    border: ",";\n    background-color: ",";\n    width: 210px;\n    padding: 1rem 1rem 37px;\n    margin: 0 0 0.5rem 0;\n    color: ",";\n    cursor: pointer;\n    .tile {\n        &--header {\n            font-size: 0.9rem;\n            font-weight: 400;\n            margin: 0 0 0.25rem;\n        }\n        &--label {\n            position: absolute;\n            left: 16px;\n            bottom: 15px;\n            line-height: 16px;\n            font-size: 12px;\n            color: ",";\n            border-radius: 25px;\n            padding: 0 8px;\n            font-weight: 600;\n            border: 2px solid\n                ",";\n\n            text-transform: capitalize;\n        }\n    }\n    .content {\n        position: absolute;\n        bottom: 40px;\n        left: 16px;\n        display: flex;\n        align-items: baseline;\n        justify-content: left;\n        margin: 0 0 0.5rem 0;\n        &--number {\n            font-size: 1.5rem;\n            font-weight: bold;\n            margin: 0 0.5rem 0 0;\n        }\n        &--label {\n            text-transform: uppercase;\n            color: ",";\n        }\n    }\n    box-shadow: 0px 0px 10px #343c4845;\n    &:hover {\n        border: 1px solid ",";\n    }\n"]);return Ce=function(){return e},e}function Se(){var e=Object(P.a)(["\n    position: absolute;\n    display: inline-block;\n    width: 24px;\n    height: 22px;\n    background: #edb124;\n    color: white;\n    top: 10px;\n    right: 14px;\n    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n    :after {\n        display: inline-block;\n        content: '!';\n        color: white;\n        font-size: 17px;\n        text-align: center;\n        width: 24px;\n        height: 22px;\n        line-height: 27px;\n        font-weight: 600;\n    }\n"]);return Se=function(){return e},e}var Ne={label:"Blue",color:"#0a6eb4",disabled:!0},_e={label:"Yellow",color:"#F7B825"},Fe=E.b.span(Se()),De=E.b.div(Ce(),(function(e){return e.warning&&!e.active?"1px solid ".concat(_e.color):"1px solid transparent"}),(function(e){return e.active?Ne.color:"white"}),(function(e){return e.active?"white":"black"}),(function(e){return e.active?"inherit":e.color}),(function(e){return e.active?"white":e.color+"30"}),(function(e){return e.active?"inherit":"rgba(21, 41, 53, 0.7)"}),Ne.color),Te=function(e){var t=e.header,n=e.amount,a=e.role,i=e.color,o=e.amountLabel,c=e.active,l=e.warning,s=e.onClick;return Object(r.jsxs)(De,{active:c,warning:l,onClick:s,color:i,children:[Object(r.jsx)("h3",{className:"tile--header",children:t}),Object(r.jsxs)("div",{className:"tile--content content",children:[Object(r.jsx)("span",{className:"content--number",children:n}),Object(r.jsx)("span",{className:"content--label",children:o})]}),Object(r.jsx)("span",{className:"tile--label",children:a}),l&&Object(r.jsx)(Fe,{})]})};Te.defaultProps={amount:"00",amountLabel:"applicants",label:"screener",active:!1,warning:!1,onClick:function(){return console.log("clicked callback tile")}};var Le=Te;function Pe(){var e=Object(P.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: ",";\n    & > * {\n        margin-right: ",";\n    }\n"]);return Pe=function(){return e},e}var Ee=function(e){var t=e.data,n=e.filters,a=e.hideEmptyTiles,o=Object(i.useState)(null),c=Object(L.a)(o,2),l=c[0],d=c[1];if(!t||!n)return[null,null];n=n.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{count:t.filter((function(t){return e.comparator(t)})).length})})).filter((function(e){return!(a&&0===e.count)}));var u=t;null!==l&&(u=t.filter(n[l].comparator));return[u,Object(r.jsx)(Ae,{stretch:n.length>=4,children:n.map((function(e,t){var n=e.count,a=e.warning,i=e.title,o=(e.role,e.amountLabel);return Object(r.jsx)(Le,{onClick:function(){var e;d(l===(e=t)?null:e)},header:i,amount:n,warning:0!==n&&a,active:l===t,amountLabel:o},t)}))})]},Ae=E.b.div(Pe(),(function(e){return e.stretch?"space-between":"flex-start"}),(function(e){return e.stretch?"0px":"20px"})),Me=n(328),Be=n(16),Re=n.n(Be);function Ie(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }\n        \n"]);return Ie=function(){return e},e}var ze=function(e){var t=e.data._id;return Object(r.jsx)(Ge,{children:Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold"},to:{pathname:"/create-ministry",state:{edit:!0,id:t,data:e.data}},children:"Edit"})})},Ge=E.b.div(Ie());function Ve(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }\n        \n"]);return Ve=function(){return e},e}var qe=function(e){var t=e.data._id;return Object(r.jsx)(We,{children:Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold"},to:{pathname:"/create-admin",state:{edit:!0,id:t,data:e.data}},children:"Edit"})})},We=E.b.div(Ve()),Ue=n(15);function He(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }\n    // @media (min-width: 600px) {\n        .wfp--modal-container {\n            min-width: 280px;\n        }\n    // }\n        \n"]);return He=function(){return e},e}var Ye=function(e){var t=e.data,n=(t.request_status,t._id),a=(t.reviewed_candidate,t.create_user,Object(i.useState)(!1)),o=Object(L.a)(a,2),c=o[0],l=o[1];return Object(r.jsxs)(Je,{children:[Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsxs)("div",{style:{dispaly:"inline"},children:[Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold"},to:{pathname:"/create-department",state:{edit:!0,id:n,data:e.data}},children:"Edit department"}),Object(r.jsx)("div",{style:{borderRadius:"6px",border:"2px solid rgb(11 119 193)",cursor:"pointer",float:"left",marginLeft:10,background:"#0d7fce",padding:"3px 5px 4px"},onClick:function(){return l(!0)},children:Object(r.jsx)(T.g,Object(Ue.a)({className:"wfp--link",icon:oe.i,width:"14px",height:"14px",fill:"#fff",description:"More actions"},"className","dropbtn"))})]})}),Object(r.jsxs)(T.k,{open:c,modalLabel:"Other actions",primaryButtonText:"Close",passiveModal:!0,onRequestClose:function(){return l(!1)},onRequestSubmit:function(){return l(!1)},children:[Object(r.jsx)(x.b,{className:"wfp--link",to:"/create-sub-department/"+n,children:"Add sub department"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(x.b,{className:"wfp--link",to:"/sub/department/"+n,children:"View sub department"})]})]})},Je=E.b.div(He());function Xe(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }\n    // @media (min-width: 600px) {\n        .wfp--modal-container {\n            min-width: 280px;\n        }\n    // }\n        \n"]);return Xe=function(){return e},e}var Ke=function(e){var t=e.data,n=t._id,a=t.department,o=Object(i.useState)(!1),c=Object(L.a)(o,2);c[0],c[1];return Object(r.jsx)(Qe,{children:Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold"},to:{pathname:"/create-sub-department/"+a,state:{edit:!0,id:n,data:e.data}},children:"Edit sub department"})})})})},Qe=E.b.div(Xe());function Ze(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }\n        \n"]);return Ze=function(){return e},e}var $e=function(e){var t=e.data._id;return Object(r.jsx)(et,{children:Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold"},to:{pathname:"/create-staff",state:{edit:!0,id:t,data:e.data}},children:"Edit"})})},et=E.b.div(Ze());function tt(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        font-size: 8px;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        // height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }\n    // @media (min-width: 600px) {\n        .wfp--modal-container {\n            min-width: 280px;\n        }\n    // }\n        \n"]);return tt=function(){return e},e}var nt=function(e){var t=e.onValueChange,n=e.data._id,a=K.getState().user,o=Object(i.useState)(!1),c=Object(L.a)(o,2),l=c[0],s=c[1],d=Object(i.useState)(!1),u=Object(L.a)(d,2),p=u[0],f=u[1],b=function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,h.a.post("/v1/file/receive/".concat(n,"/").concat(a&&a._id)).then((function(){return f(!1)}));case 4:t(),Object(I.b)("Successfully acknowledged receipt of file",{closeOnClick:!0,autoClose:1e3}),window.location.reload(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),f(!1);case 13:s(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(at,{children:[Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsxs)("div",{style:{dispaly:"inline"},children:[Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold",marginLeft:10},to:"#",onClick:function(){return s(!0)},children:"RECEIVED FILE"}),Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold",marginLeft:10},to:{pathname:"/history/file/".concat(n)},children:"VIEW HISTORY"})]})}),Object(r.jsxs)(T.k,{open:l,primaryButtonText:"Confirm",secondaryButtonText:"No",onRequestSubmit:b,onRequestClose:function(){return s(!1)},modalLabel:"Confirm receipt",wide:!1,type:"info",children:[Object(r.jsx)(T.h,{active:p,withOverlay:!0}),Object(r.jsx)("p",{className:"wfp--modal-content__text",children:"By acknowledging receipt, you confirm receipt of the file. Do you confirm receipt?"})]})]})},at=E.b.div(tt());function rt(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        font-size: 8px;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        // height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }\n    // @media (min-width: 600px) {\n        .wfp--modal-container {\n            min-width: 280px;\n        }\n    // }\n        \n"]);return rt=function(){return e},e}var it=function(e){var t=e.data,n=(t.request_status,t._id),a=(t.reviewed_candidate,t.create_user,Object(i.useState)(!1)),o=Object(L.a)(a,2);o[0],o[1];return Object(r.jsx)(ot,{children:Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold"},to:{pathname:"/history/file/".concat(n)},children:"VIEW HISTORY"})})})})},ot=E.b.div(rt());function ct(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        font-size: 8px;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        // height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }      \n"]);return ct=function(){return e},e}var lt=function(e){var t=e.onValueChange,n=e.data._id,a=K.getState().user,o=Object(i.useState)(""),c=Object(L.a)(o,2),l=c[0],s=c[1],d=Object(i.useState)(!1),u=Object(L.a)(d,2),p=u[0],f=u[1],b=Object(i.useState)(!1),m=Object(L.a)(b,2),j=m[0],g=m[1],O=Object(i.useState)(!1),v=Object(L.a)(O,2),k=v[0],C=v[1],S=function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,h.a.post("/v1/file/delay/".concat(n,"/").concat(a&&a._id),{justification:l}).then((function(){g(!1),t(),Object(I.b)("Successfully acknowledged receipt of file",{closeOnClick:!0,autoClose:1e3}),window.location.reload()}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),g(!1);case 10:f(!1);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var t=Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.prev=1,t.next=4,h.a.post("/v1/file/archive/".concat(n,"/").concat(a&&a._id)).then((function(){g(!1),e.onValueChange&&e.onValueChange(),Object(I.b)("Successful",{closeOnClick:!0,autoClose:1e3}),window.location.reload()}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),g(!1);case 10:C(!1);case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(st,{children:Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsxs)("div",{style:{dispaly:"inline"},children:[Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold"},to:{pathname:"/forward/file/"+n,state:{edit:!0,id:n,data:e.data}},children:"FORWARD"}),Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold",marginLeft:5},to:{pathname:"/history/file/".concat(n)},children:"VIEW HISTORY"}),Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold",marginLeft:5},to:"#",onClick:function(){return f(!0)},children:"DELAY"}),Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold",marginLeft:5},to:"#",onClick:function(){return C(!0)},children:"ARCHIVE"}),Object(r.jsxs)(T.k,{open:p,primaryButtonText:"Delay",secondaryButtonText:"Cancel",onRequestSubmit:S,onRequestClose:function(){return f(!1)},modalLabel:"Delay file",wide:!1,type:"info",children:[Object(r.jsx)(T.h,{active:j,withOverlay:!0}),Object(r.jsxs)("p",{className:"wfp--modal-content__text",children:[Object(r.jsx)("br",{}),Object(r.jsx)(T.A,{labelText:"Please provide justification for your delay.",name:"inputname",onChange:function(e){return s(e.target.value)}})]})]}),Object(r.jsxs)(T.k,{open:k,primaryButtonText:"Archive file",secondaryButtonText:"Cancel",onRequestSubmit:N,onRequestClose:function(){return C(!1)},modalLabel:"Archive",wide:!1,type:"info",children:[Object(r.jsx)(T.h,{active:j,withOverlay:!0}),Object(r.jsx)("p",{className:"wfp--modal-content__text",children:"Are you sure you want to Archive this file?"})]})]})})})})},st=E.b.div(ct());function dt(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        font-size: 8px;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        // height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }\n    // @media (min-width: 600px) {\n        .wfp--modal-container {\n            min-width: 280px;\n        }\n    // }\n        \n"]);return dt=function(){return e},e}var ut=function(e){var t=e.onValueChange,n=e.data._id,a=K.getState().user,o=Object(i.useState)(!1),c=Object(L.a)(o,2),l=c[0],s=c[1],d=Object(i.useState)(!1),u=Object(L.a)(d,2),p=u[0],f=u[1],b=function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,h.a.post("/v1/file/receive/".concat(n,"/").concat(a&&a._id)).then((function(){return f(!1)}));case 4:t(),Object(I.b)("Successfully acknowledged receipt of file",{closeOnClick:!0,autoClose:1e3}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),f(!1);case 12:s(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(pt,{children:[Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold",marginLeft:10},to:{pathname:"/history/file/".concat(n)},children:"VIEW HISTORY"})})}),Object(r.jsxs)(T.k,{open:l,primaryButtonText:"Confirm",secondaryButtonText:"No",onRequestSubmit:b,onRequestClose:function(){return s(!1)},modalLabel:"Confirm receipt",wide:!1,type:"info",children:[Object(r.jsx)(T.h,{active:p,withOverlay:!0}),Object(r.jsx)("p",{className:"wfp--modal-content__text",children:"By acknowledging receipt, you confirm receipt of the file. Do you confirm receipt?"})]})]})},pt=E.b.div(dt());function ft(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        font-size: 8px;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        // height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }\n    // @media (min-width: 600px) {\n        .wfp--modal-container {\n            min-width: 280px;\n        }\n    // }\n        \n"]);return ft=function(){return e},e}var bt=function(e){var t=e.onValueChange,n=e.data._id,a=K.getState().user,o=Object(i.useState)(!1),c=Object(L.a)(o,2),l=c[0],s=c[1],d=Object(i.useState)(!1),u=Object(L.a)(d,2),p=u[0],f=u[1],b=Object(i.useState)(!1),m=Object(L.a)(b,2),j=m[0],g=m[1],O=function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,h.a.post("/v1/file/receive/".concat(n,"/").concat(a&&a._id)).then((function(){return g(!1)}));case 4:t(),Object(I.b)("Successfully acknowledged receipt of file",{closeOnClick:!0,autoClose:1e3}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),g(!1);case 12:s(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var t=Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.prev=1,t.next=4,h.a.post("/v1/file/archive/".concat(n,"/").concat(a&&a._id)).then((function(){g(!1),e.onValueChange&&e.onValueChange(),Object(I.b)("Successful",{closeOnClick:!0,autoClose:1e3}),window.location.reload()}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),g(!1);case 10:f(!1);case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)(mt,{children:[Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsxs)("div",{style:{dispaly:"inline"},children:[Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold",marginLeft:10},to:{pathname:"/forward/file/"+n,state:{edit:!0,id:n,data:e.data}},children:"FORWARD"}),Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold",marginLeft:10},to:{pathname:"/history/file/".concat(n)},children:"VIEW HISTORY"}),Object(r.jsx)(x.b,{className:"wfp--link",style:{fontWeight:"bold",marginLeft:10},to:"#",onClick:function(){return f(!0)},children:"ARCHIVE"})]})}),Object(r.jsxs)(T.k,{open:l,primaryButtonText:"Confirm",secondaryButtonText:"No",onRequestSubmit:O,onRequestClose:function(){return s(!1)},modalLabel:"Confirm receipt",wide:!1,type:"info",children:[Object(r.jsx)(T.h,{active:j,withOverlay:!0}),Object(r.jsx)("p",{className:"wfp--modal-content__text",children:"By acknowledging receipt, you confirm receipt of the file. Do you confirm receipt?"})]}),Object(r.jsxs)(T.k,{open:p,primaryButtonText:"Archive file",secondaryButtonText:"Cancel",onRequestSubmit:v,onRequestClose:function(){return f(!1)},modalLabel:"Archive",wide:!1,type:"info",children:[Object(r.jsx)(T.h,{active:j,withOverlay:!0}),Object(r.jsx)("p",{className:"wfp--modal-content__text",children:"Are you sure you want to Archive this file?"})]})]})},mt=E.b.div(ft());function jt(){var e=Object(P.a)(["\n    div:last-child {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-weight: bold;\n    }\n    a.wfp--link {\n        float: left;\n        color: #fbfcfc;\n        font-size: 8px;\n        background: #0e7fce;\n        border-radius: 6px;\n        padding: 4px 10px;\n        // height: 27px;\n        display: inline-block;\n        -webkit-text-decoration: none;\n        text-decoration: none;\n    }\n    // @media (min-width: 600px) {\n        .wfp--modal-container {\n            min-width: 280px;\n        }\n    // }\n        \n"]);return jt=function(){return e},e}var ht=function(e){e.onValueChange;var t=e.data._id,n=K.getState().user,a=Object(i.useState)(!1),o=Object(L.a)(a,2),c=o[0],l=o[1],s=Object(i.useState)(!1),d=Object(L.a)(s,2),u=d[0],p=d[1],f=Object(i.useState)(!1),b=Object(L.a)(f,2),m=b[0],j=b[1],g=function(){var n=Object(w.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j(!0),n.prev=1,n.next=4,h.a.put("/v1/file/delete/".concat(t)).then((function(){j(!1),e.onValueChange&&e.onValueChange(),Object(I.b)("Successfully acknowledged receipt of file",{closeOnClick:!0,autoClose:1e3}),window.location.reload()}));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),j(!1);case 10:l(!1);case 11:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(){return n.apply(this,arguments)}}(),O=function(){var a=Object(w.a)(y.a.mark((function a(){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return j(!0),a.prev=1,a.next=4,h.a.post("/v1/file/archive/".concat(t,"/").concat(n&&n._id)).then((function(){j(!1),e.onValueChange&&e.onValueChange(),Object(I.b)("Successful",{closeOnClick:!0,autoClose:1e3}),window.location.reload()}));case 4:a.next=10;break;case 6:a.prev=6,a.t0=a.catch(1),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),j(!1);case 10:p(!1);case 11:case"end":return a.stop()}}),a,null,[[1,6]])})));return function(){return a.apply(this,arguments)}}();return Object(r.jsxs)(xt,{children:[Object(r.jsx)("div",{style:{dispaly:"inline"},children:Object(r.jsxs)("div",{style:{dispaly:"inline"},children:[Object(r.jsx)(x.b,{to:{pathname:"/forward/file/"+t,state:{edit:!0,id:t,data:e.data}},children:Object(r.jsx)(T.g,{class:"wfp--link",icon:oe.A,width:14,height:14,fill:"#0b77c2",description:"FORWARD"})}),Object(r.jsx)("span",{style:{paddingLeft:20}}),Object(r.jsx)(x.b,{to:{pathname:"/create-file",state:{edit:!0,id:t,data:e.data}},children:Object(r.jsx)(T.g,{class:"wfp--link",icon:oe.p,width:14,height:14,fill:"#0b77c2",description:"EDIT"})}),Object(r.jsx)("span",{style:{paddingLeft:20}}),Object(r.jsx)(T.g,{class:"wfp--link",icon:oe.n,width:14,height:14,fill:"#0b77c2",description:"DELETE",onClick:function(){return l(!0)}}),Object(r.jsx)("span",{style:{paddingLeft:20}}),Object(r.jsx)(T.g,{class:"wfp--link",icon:oe.b,width:14,height:14,fill:"#0b77c2",description:"ARCHIVE",onClick:function(){return p(!0)}})]})}),Object(r.jsxs)(T.k,{open:c,primaryButtonText:"Delete",secondaryButtonText:"Cancel",onRequestSubmit:g,onRequestClose:function(){return l(!1)},modalLabel:"Delete",wide:!1,danger:!0,type:"danger",children:[Object(r.jsx)(T.h,{active:m,withOverlay:!0}),Object(r.jsx)("p",{className:"wfp--modal-content__text",children:"Are you sure you want to delete this file?"})]}),Object(r.jsxs)(T.k,{open:u,primaryButtonText:"Archive file",secondaryButtonText:"Cancel",onRequestSubmit:O,onRequestClose:function(){return p(!1)},modalLabel:"Archive",wide:!1,type:"info",children:[Object(r.jsx)(T.h,{active:m,withOverlay:!0}),Object(r.jsx)("p",{className:"wfp--modal-content__text",children:"Are you sure you want to Archive this file?"})]})]})},xt=E.b.div(jt());n.p;function gt(){var e=Object(P.a)(["\n    #custom-ag-grid.ag-theme-balham .ag-root {\n        border: 0;\n    }\n    #custom-ag-grid .ag-root-wrapper {\n        box-shadow: 0px 0px 10px #343C481F;\n        overflow: visible;\n    }\n\n    #custom-ag-grid.ag-theme-balham .ag-root .ag-header-cell-label .ag-header-cell-text {\n        line-height: 1.5;\n        white-space: normal;\n        color: #404040;\n        font-weight: bold;\n        display: inline;\n        align-self: center;\n    }\n\n    #custom-ag-grid.ag-theme-balham .ag-header-row:first-child .ag-header-cell{\n        background: #ffffffed;\n    }\n    #custom-ag-grid.ag-theme-balham .ag-header-cell:not(.ag-header-group-cell-no-group){\n        background: white;\n    }\n    #custom-ag-grid.ag-theme-balham .ag-header{\n        background: #ffffffed;\n    }\n\n    #custom-ag-grid.ag-theme-balham .ag-header-cell::after,\n    #custom-ag-grid.ag-theme-balham .ag-header-group-cell::after {\n        height: 60%;\n        margin: 0;\n        transform: translateY(-50%);\n        top: 50%;\n    }\n    #custom-ag-grid.ag-theme-balham .ag-root .ag-cell {\n        padding: 10px;\n        line-height: initial;\n        white-space: normal;\n    }\n\n    /* #custom-ag-grid.ag-theme-balham .ag-cell-inline-editing {\n        height: 100%;\n        padding: 0;\n    } */\n\n    #custom-ag-grid.ag-theme-balham  .ag-root .ag-header-cell-menu-button,\n    #custom-ag-grid.ag-theme-balham .ag-root .ag-header-cell-menu-button .ag-icon-menu,\n    #custom-ag-grid.ag-theme-balham .ag-root .ag-icon {\n        height: 100%;\n    }\n\n    #custom-ag-grid.ag-theme-balham .ag-status-bar  {\n        background: #fff;\n        border: 1px solid #BDC3C7;\n    }\n\n    #swaggin {\n        color: red;\n    }\n\n"]);return gt=function(){return e},e}function Ot(){var e=Object(P.a)(["\n    .export-btn {\n        display: inline-flex;\n        align-items: center;\n    }\n    .export-btn__img {\n        width: 16px;\n        height: 16px;\n        margin-left: 8px;\n    }\n    &:hover {\n        .export-btn__img {\n            filter: brightness(0) invert(1);\n        }\n    }\n"]);return Ot=function(){return e},e}var vt={key:0,sortable:!0,resizable:!0,filter:!0,floatingFilter:!0,headerHeight:150,suppressMenu:!0,filterParams:{newRowsAction:"keep"},enableBrowserTooltips:!0},yt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={api:null,params:null},e.onGridReady=function(t){var n=e.props;n.sortModel,n.data,n.onResize;if(e._isMounted){var a=t.api;e.setState({api:a,params:t},(function(){return e.onResize()}))}},e.onResize=function(){var t=e.state.api;t&&t.sizeColumnsToFit()},e.onExport=function(t){var n=e.props.config,a=e.state.api,r={allColumns:!0,fileName:e.props.exportFileName+" "+Re()().format("YYYY-MM-DD HH-mm-ss"),columnKeys:n.exportedColumns,sheetName:e.props.exportFileName};console.log("export",a),a&&a.exportDataAsExcel(r)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0,window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.config,i=e.floatingFilter,o=e.statusPanels,c=document.getElementById("export-button-portal");return Object(r.jsxs)(r.Fragment,{children:[c&&l.a.createPortal(Object(r.jsx)(kt,{}),c),Object(r.jsxs)("div",{id:"custom-ag-grid",className:"ag-theme-balham",style:{width:"100%",height:"".concat(Math.max(80*Math.min(8,t.length),180)+142,"px"),marginTop:20},children:[Object(r.jsx)(Ct,{}),Object(r.jsx)(Me.AgGridReact,{rowData:t,defaultColDef:vt,columnDefs:n.columnDefs,frameworkComponents:a,reactNext:!0,suppressScrollOnNewData:!0,sideBar:this.props.sideBar&&"columns",gridOptions:{rowHeight:80,headerHeight:80,getContextMenuItems:function(e){return["copy","copyWithHeaders","paste","separator","export","separator"]},statusBar:{statusPanels:null!=o?o:[{statusPanel:"agTotalAndFilteredRowCountComponent",align:"left"},{statusPanel:"agTotalRowCountComponent",align:"center"},{statusPanel:"agFilteredRowCountComponent"},{statusPanel:"agSelectedRowCountComponent"},{statusPanel:"agAggregationComponent"}]},groupMultiAutoColumn:!0},onGridReady:this.onGridReady,floatingFilter:null==i||i,excelStyles:[{id:"header",rowHeight:"40px",font:{size:15,bold:!0,uppercase:!0,color:"#ffffff"},borders:{borderBottom:{lineStyle:"Continuous",weight:2}},interior:{color:"#0a6eb4",pattern:"Solid"},alignment:{horizontal:"Left",vertical:"Center"}},{id:"bold",font:{size:14,bold:!0,color:"#000000"}},{id:"darkGreyBackground",interior:{color:"#727272",italic:!0,pattern:"Solid"},font:{color:"#ffffff"}},{id:"darkRedBackground",interior:{color:"#c5192d",italic:!0,pattern:"Solid"},font:{color:"#ffffff"}},{id:"orangeBackground",interior:{color:"#ebab34",pattern:"Solid"},font:{color:"#000000"}},{id:"greenBackground",interior:{color:"#008000",pattern:"Solid"},font:{color:"#ffffff"}}]})]})]})}}]),n}(o.a.Component),wt=Object(g.g)(Object(O.b)((function(e){return{userRole:e.user}}))(yt)),kt=E.b.div(Ot()),Ct=Object(E.a)(gt());function St(){var e=Object(P.a)(["\n    margin: 0 0 15px;\n    h5 {\n        font-weight: 500;\n        color: #8c9ba5;\n        text-transform: uppercase;\n        font-size: 14px;\n    }\n    h3 {\n        font-weight: 500;\n        color: #031c2d;\n        font-size: 25px;\n\n        span {\n            font-weight: 300;\n            font-size: 14px;\n        }\n    }\n"]);return St=function(){return e},e}var Nt=function(e){var t=e.title,n=e.count,a=void 0===n?null:n;return Object(r.jsxs)(_t,{children:[Object(r.jsx)("h5",{children:"DASHBOARD"}),Object(r.jsxs)("h3",{children:[t," ",a?Object(r.jsxs)("span",{children:["(",a," in total)"]}):null]})]})},_t=E.b.header(St()),Ft=Nt,Dt=function(e){var t=e.data,n=e.filters,a=e.fetchData,o=e.title,c=e.gridConfig,l=e.middle,s=e.hideEmptyTiles,d=e.sortModel,u=e.exportFileName;Object(i.useEffect)((function(){(function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=Ee({data:t||null,filters:n,hideEmptyTiles:s}),f=Object(L.a)(p,2),b=f[0],m=f[1];return b&&m?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ft,{count:t.length||0,title:o}),m,l||null,Object(r.jsx)(wt,{data:b,config:c,exportFileName:u,sortModel:d})]}):Object(r.jsx)(T.h,{active:!0,withOverlay:!0})},Tt=n(56),Lt={filterOptions:["contains","notContains"],textFormatter:function(e){return null==e?null:e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(new RegExp("[\xe0\xe1\xe2\xe3\xe4\xe5]","g"),"a")).replace(new RegExp("\xe6","g"),"ae")).replace(new RegExp("\xe7","g"),"c")).replace(new RegExp("[\xe8\xe9\xea\xeb]","g"),"e")).replace(new RegExp("[\xec\xed\xee\xef]","g"),"i")).replace(new RegExp("\xf1","g"),"n")).replace(new RegExp("[\xf2\xf3\xf4\xf5\xf8\xf6]","g"),"o")).replace(new RegExp("\u0153","g"),"oe")).replace(new RegExp("[\xf9\xfa\xfb\xfc]","g"),"u")).replace(new RegExp("[\xfd\xff]","g"),"y")},debounceMs:0,newRowsAction:"keep",caseSensitive:!1,suppressAndOrCondition:!0};function Pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label",n=e.value;return n?n[t]:null}var Et=[{id:1,label:"Male",value:"Male"},{id:2,label:"Female",value:"Female"}],At=[{id:1,label:"Agency",value:"Agency"},{id:2,label:"Department",value:"Department"},{id:3,label:"Unit",value:"Unit"}],Mt=[{id:1,label:"Level 2",value:"Level 2"},{id:2,label:"Level 3",value:"Level 3"},{id:3,label:"Level 4",value:"Level 4"},{id:4,label:"Level 5",value:"Level 5"},{id:5,label:"Level 6",value:"Level 6"},{id:6,label:"Level 7",value:"Level 7"},{id:7,label:"Level 8",value:"Level 8"},{id:8,label:"Level 9",value:"Level 9"},{id:9,label:"Level 10",value:"Level 10"},{id:10,label:"Level 11",value:"Level 11"},{id:11,label:"Level 12",value:"Level 12"},{id:12,label:"Level 13",value:"Level 13"},{id:13,label:"Level 14",value:"Level 14"},{id:14,label:"Level 15",value:"Level 15"},{id:15,label:"Level 16",value:"Level 16"}],Bt=[{id:1,label:"Service file",value:"Service file",createServiceFile:!0},{id:2,label:"Management file",value:"Management file",createManagementFile:!0}],Rt=[function(){return{headerName:"Ministry name",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"name",filter:"agTextColumnFilter",filterParams:Lt}},function(){var e;return e={headerName:"Designated Admin",editable:!1,lockPosition:!0,valueGetter:function(e){var t=e.data;return t.userId?"".concat(t.userId.firstName," ").concat(t.userId.lastName):null},__isExported:!0,hide:!1},Object(Ue.a)(e,"editable",!1),Object(Ue.a)(e,"field","userId"),Object(Ue.a)(e,"filter","agTextColumnFilter"),Object(Ue.a)(e,"filterParams",Lt),e},function(){return{headerName:"Created on",editable:!1,lockPosition:!0,field:"createdAt",keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){return e.data.createdAt&&new Date(e.data.createdAt).toDateString()}}},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"MinistryAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1}}],It=[function(){return{headerName:"First name",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"firstName",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Last name",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"lastName",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Email",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"email",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Telephone",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"telephone",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Gender",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"gender",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Designation",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"designation",filter:"agTextColumnFilter",filterParams:Lt}},function(){var e;return e={headerName:"Ministry",editable:!1,lockPosition:!0,valueGetter:function(e){var t=e.data;return t.ministry?"".concat(t.ministry.name):null},__isExported:!0,hide:!1},Object(Ue.a)(e,"editable",!1),Object(Ue.a)(e,"field","ministry"),Object(Ue.a)(e,"filter","agTextColumnFilter"),Object(Ue.a)(e,"filterParams",Lt),e},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"AdminAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1}}],zt=[function(){return{headerName:"Name",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"name",filter:"agTextColumnFilter",filterParams:Lt}},function(){var e;return e={headerName:"Type",editable:!1,lockPosition:!0,__isExported:!0,hide:!1},Object(Ue.a)(e,"editable",!1),Object(Ue.a)(e,"field","type"),Object(Ue.a)(e,"filter","agTextColumnFilter"),Object(Ue.a)(e,"filterParams",Lt),e},function(){var e;return e={headerName:"No of staff",editable:!1,lockPosition:!0,__isExported:!0,hide:!1},Object(Ue.a)(e,"editable",!1),Object(Ue.a)(e,"valueGetter",(function(e){var t=e.data;return t.staff?t.staff.length:0})),Object(Ue.a)(e,"filter","agTextColumnFilter"),Object(Ue.a)(e,"filterParams",Lt),e},function(){var e;return e={headerName:"No of sub department",editable:!1,lockPosition:!0,__isExported:!0,hide:!1},Object(Ue.a)(e,"editable",!1),Object(Ue.a)(e,"valueGetter",(function(e){var t=e.data;return t.subDepartment?t.subDepartment.length:0})),Object(Ue.a)(e,"filter","agTextColumnFilter"),Object(Ue.a)(e,"filterParams",Lt),e},function(){return{headerName:"Created on",editable:!1,lockPosition:!0,field:"createdAt",keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){return e.data.createdAt&&new Date(e.data.createdAt).toDateString()}}},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"DepartmentAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1}}],Gt=[function(){return{headerName:"Name",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"name",filter:"agTextColumnFilter",filterParams:Lt}},function(){var e;return e={headerName:"Type",editable:!1,lockPosition:!0,__isExported:!0,hide:!1},Object(Ue.a)(e,"editable",!1),Object(Ue.a)(e,"field","type"),Object(Ue.a)(e,"filter","agTextColumnFilter"),Object(Ue.a)(e,"filterParams",Lt),e},function(){var e;return e={headerName:"No of staff",editable:!1,lockPosition:!0,__isExported:!0,hide:!1},Object(Ue.a)(e,"editable",!1),Object(Ue.a)(e,"valueGetter",(function(e){var t=e.data;return t.staff?t.staff.length:0})),Object(Ue.a)(e,"filter","agTextColumnFilter"),Object(Ue.a)(e,"filterParams",Lt),e},function(){return{headerName:"Created on",editable:!1,lockPosition:!0,field:"createdAt",keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){return e.data.createdAt&&new Date(e.data.createdAt).toDateString()}}},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"SubDepartmentAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1}}],Vt=[function(){return{headerName:"First name",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"firstName",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Last name",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"lastName",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Email",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"email",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Telephone",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"telephone",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Gender",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"gender",filter:"agTextColumnFilter",filterParams:Lt,width:80}},function(){return{headerName:"Designation",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"designation",filter:"agTextColumnFilter",filterParams:Lt}},function(){var e;return e={headerName:"Department",editable:!1,lockPosition:!0,valueGetter:function(e){var t=e.data;return t.department?"".concat(t.department.name):null},__isExported:!0,hide:!1},Object(Ue.a)(e,"editable",!1),Object(Ue.a)(e,"field","department"),Object(Ue.a)(e,"filter","agTextColumnFilter"),Object(Ue.a)(e,"filterParams",Lt),e},function(){var e;return e={headerName:"Sub department",editable:!1,lockPosition:!0,valueGetter:function(e){var t=e.data;return t.subDepartment?"".concat(t.subDepartment.name):null},__isExported:!0,hide:!1},Object(Ue.a)(e,"editable",!1),Object(Ue.a)(e,"field","subDepartment"),Object(Ue.a)(e,"filter","agTextColumnFilter"),Object(Ue.a)(e,"filterParams",Lt),e},function(){var e;return e={headerName:"Ministry",editable:!1,lockPosition:!0,valueGetter:function(e){var t=e.data;return t.ministry?"".concat(t.ministry.name):null},__isExported:!0,hide:!1},Object(Ue.a)(e,"editable",!1),Object(Ue.a)(e,"field","ministry"),Object(Ue.a)(e,"filter","agTextColumnFilter"),Object(Ue.a)(e,"filterParams",Lt),e},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"StaffAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1,width:120}}],qt=[function(){return{headerName:"File Name/Title",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"name",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File number",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"fileNo",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File type",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"type",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sent from",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"incoming",valueGetter:function(e){var t=e.data;return t.incoming&&t.incoming.sentBy?"".concat(t.incoming.sentBy.firstName,"  ").concat(t.incoming.sentBy.lastName):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Department",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"incoming",valueGetter:function(e){var t=e.data;return t.incoming&&t.incoming.originatingDept?"".concat(t.incoming.originatingDept.name):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sub Department",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"incoming",valueGetter:function(e){var t=e.data;return t.incoming&&t.incoming.originatingSubDept?"".concat(t.incoming.originatingSubDept.name):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sent date",editable:!1,lockPosition:!0,keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){var t=e.data;return t.incoming&&t.incoming.sentDate?new Date(t.incoming.sentDate).toDateString():null}}},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"IncomingFileAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1,width:300}}],Wt=[function(){return{headerName:"File Name/Title",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"name",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File number",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"fileNo",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File type",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"type",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Destination",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"outgoing",valueGetter:function(e){var t=e.data;return t.outgoing&&t.outgoing.receivingDept?"".concat(t.outgoing.receivingDept.name):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sub Department",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"outgoing",valueGetter:function(e){var t=e.data;return t.outgoing&&t.outgoing.receivingSubDept?"".concat(t.outgoing.receivingSubDept.name):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Designated Officer",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"outgoing",valueGetter:function(e){var t=e.data;return t.outgoing&&t.outgoing.receivedBy?"".concat(t.outgoing.receivedBy.firstName," ").concat(t.outgoing.receivedBy.lastName):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Date forwarded",editable:!1,lockPosition:!0,keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){var t=e.data;return t.outgoing&&t.outgoing.sentDate?new Date(t.outgoing.sentDate).toDateString():null}}},function(){return{headerName:"Status",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,valueGetter:function(e){e.data;return"Awaiting response"},filter:"agTextColumnFilter",filterParams:Lt}},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"OutgoingFileAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1}}],Ut=[function(){return{headerName:"File Name/Title",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"name",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File number",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"fileNo",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File type",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"type",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sent from",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"incoming",valueGetter:function(e){var t=e.data;return t.pending&&t.pending.sentBy?"".concat(t.pending.sentBy.firstName,"  ").concat(t.pending.sentBy.lastName):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Department",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"pending",valueGetter:function(e){var t=e.data;return t.pending&&t.pending.originatingDept?"".concat(t.pending.originatingDept.name):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sub Department",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"pending",valueGetter:function(e){var t=e.data;return t.pending&&t.pending.originatingSubDept?"".concat(t.pending.originatingSubDept.name):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sent date",editable:!1,lockPosition:!0,keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){var t=e.data;return t.pending&&t.pending.receivedDate?new Date(t.pending.receivedDate).toDateString():null}}},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"InProcessFileAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1,width:450}}],Ht=[function(){return{headerName:"File Name/Title",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"name",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File number",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"fileNo",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File type",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"type",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sent from",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"incoming",valueGetter:function(e){var t=e.data;return t.sent&&t.sent[0].sentBy?"".concat(t.sent[0].sentBy.firstName,"  ").concat(t.sent[0].sentBy.lastName):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Department",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"incoming",valueGetter:function(e){var t=e.data;return t.sent&&t.sent[0].originatingDept?"".concat(t.sent[0].originatingDept.name):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sub Department",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"incoming",valueGetter:function(e){var t=e.data;return t.sent&&t.sent[0].originatingSubDept?"".concat(t.sent[0].originatingSubDept.name):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sent date",editable:!1,lockPosition:!0,keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){var t=e.data;return t.sent&&t.sent[0].sentDate?new Date(t.sent[0].sentDate).toDateString():null}}},function(){return{headerName:"Status",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,valueGetter:function(e){e.data;return"File received"},filter:"agTextColumnFilter",filterParams:Lt}},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"SentFileAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1}}],Yt=[function(){return{headerName:"File Name/Title",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"name",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File number",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"fileNo",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File type",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"type",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Opening date",editable:!1,lockPosition:!0,keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){var t=e.data;return t.createdDate?new Date(t.createdDate).toDateString():null}}},function(){return{headerName:"Closing date",editable:!1,lockPosition:!0,keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){var t=e.data;return t.archived&&t.archived.archivedDate?new Date(t.archived.archivedDate).toDateString():null}}},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"SentFileAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1}}],Jt=[function(){return{headerName:"File Name/Title",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"name",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File number",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"fileNo",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File type",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"type",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Department",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"incoming",valueGetter:function(e){var t=e.data;return t.delayed&&t.delayed.delayedDept?"".concat(t.delayed.delayedDept.name):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Sub Department",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"incoming",valueGetter:function(e){var t=e.data;return t.delayed&&t.delayed.delayedSubDept?"".concat(t.delayed.delayedSubDept.name):null},filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Delayed date",editable:!1,lockPosition:!0,keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){var t=e.data;return t.delayed&&t.delayed.delayedDate?new Date(t.delayed.delayedDate).toDateString():null}}},function(){return{headerName:"Justification",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"delayed",valueGetter:function(e){var t=e.data;return t.delayed&&t.delayed.justification?t.delayed.justification:null},filter:"agTextColumnFilter",filterParams:Lt}},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"DelayedFileAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1,width:400}}],Xt=[function(){return{headerName:"File Name/Title",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"name",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File number",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"fileNo",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"File type",lockPosition:!0,__isExported:!0,hide:!1,editable:!1,field:"type",filter:"agTextColumnFilter",filterParams:Lt}},function(){return{headerName:"Opening date",editable:!1,lockPosition:!0,field:"createdDate",keyCreator:Pt,filter:"agTextColumnFilter",filterParams:Lt,__isExported:!0,comparator:function(e,t){return new Date(e)-new Date(t)},valueGetter:function(e){var t=e.data;return t.createdDate?new Date(t.createdDate).toDateString():null}}},function(e){return{headerName:"Action",lockPosition:!0,__isExported:!1,hide:!1,editable:!1,field:"action",cellRenderer:"RegistryAction",cellRendererParams:function(t){t.data;return{onValueChange:e}},filter:!1}}];function Kt(e,t){var n;switch(e){case"ministry":n=Object(Tt.a)(Rt);break;case"admin":n=Object(Tt.a)(It);break;case"department":n=Object(Tt.a)(zt);break;case"subDepartment":n=Object(Tt.a)(Gt);break;case"staff":n=Object(Tt.a)(Vt);break;case"incomingFile":n=Object(Tt.a)(qt);break;case"outgoingFile":n=Object(Tt.a)(Wt);break;case"inProcessFile":n=Object(Tt.a)(Ut);break;case"sentFile":n=Object(Tt.a)(Ht);break;case"archivedFile":n=Object(Tt.a)(Yt);break;case"delayedFile":n=Object(Tt.a)(Jt);break;case"registryFile":n=Object(Tt.a)(Xt);break;default:n=[]}var a=(n=n.map((function(e){return"function"===typeof e?e(t):Object(s.a)(Object(s.a)({},e.def(t)),e.customProps)}))).filter((function(e){return!0===e.__isExported})).map((function(e){return e.field}));return{columnDefs:n=n.map((function(e){var t=Object(s.a)({},e);return delete t.__isExported,t})),exportedColumns:a}}var Qt=function(e){var t=e.props,n=Object(m.b)("/v1/ministry/").data,a=function(){return!0},i=n?n.data:null;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{id:"export-button-portal",children:Object(r.jsx)(T.d,{onClick:function(e){console.log(e),t.history.push("/create-ministry")},icon:oe.a,kind:"secondary",small:!0,children:"Create ministry"})}),Object(r.jsx)(Dt,{title:"Created ministries",data:i,filters:[],fetchData:a,gridConfig:Kt("ministry",a),exportFileName:"Ministry details"})]})},Zt="/v1/user/admin/admin-list",$t=function(e){var t=e.props,n=Object(m.b)(Zt).data,a=function(){return Object(m.c)(Zt)},i=n?n.data.data:null;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{id:"export-button-portal",children:Object(r.jsx)(T.d,{onClick:function(){return t.history.push("/create-admin")},icon:oe.a,kind:"secondary",small:!0,children:"Create admin"})}),Object(r.jsx)(Dt,{title:"Ministry Administrators",data:i,filters:[],fetchData:a,gridConfig:Kt("admin",a)})]})};function en(){var e=Object(P.a)(["\n    position: relative;\n    padding-bottom: 1rem;;\n    #export-button-portal {\n        position: absolute;\n        right: 0;\n        top: -95px;\n    }\n"]);return en=function(){return e},e}var tn=function(e){var t=e.index,n=e.selected,a=e.label,i=e.to,o=e.exact,c=e.handleTabClick;return Object(r.jsx)(g.b,{path:i,exact:o,children:function(e){var o=e.match;return o&&!n&&c(t,a),Object(r.jsx)("div",{className:o?"wfp--tabs__nav-item wfp--tabs__nav-item--selected":"wfp--tabs__nav-item",children:Object(r.jsx)(x.b,{className:"wfp--tabs__nav-link",to:i,children:a})})}})},nn=function(e){var t=[{permissions:!0,default:!0,label:"Ministry",path:"/ministry/list",component:function(){return Object(r.jsx)(Qt,{props:e})}},{permissions:!0,label:"Admin",path:"/ministry/admin",component:function(){return Object(r.jsx)($t,{props:e})}}],n=t.find((function(e){return e.default})),a=t.filter((function(e){return e.permissions}));return Object(r.jsxs)("div",{children:[Object(r.jsx)(ie,{l1Label:"Traquer",l1Link:"#",pageTitle:"Traquer",tabs:Object(r.jsx)(T.z,{customTabContent:!0,children:a.map((function(e,t){return Object(r.jsx)(T.y,{label:e.label,to:e.path,renderListElement:tn},t)}))})}),Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",children:Object(r.jsx)(an,{children:Object(r.jsxs)(g.d,{children:[a.map((function(e,t){return Object(r.jsx)(g.b,{path:e.path,render:e.component},t)})),Object(r.jsx)(g.a,{to:n?n.path:"/login"})]})})})})]})},an=E.b.div(en()),rn=nn;function on(){var e=Object(P.a)(["\n    margin-bottom: 30px;\n"]);return on=function(){return e},e}var cn=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={lastSaved:null,formData:null,showErrors:!1,loading:!1,ministry:[]},e.fetchMinistry=Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{h.a.get("/v1/ministry").then((function(t){return e.setState({ministry:t.data})}))}catch(n){console.log("Error while loading ministry",n)}case 1:case"end":return t.stop()}}),t)}))),e.onSubmit=function(){var t=Object(w.a)(y.a.mark((function t(n){var a,r,i,o,c,l,s,d,u,p,f;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({loading:!0}),a=n.firstName,r=n.lastName,i=n.email,o=n.gender,c=n.telephone,l=n.gradeLevel,s=n.designation,d=n.ministry,u={firstName:a,lastName:r,email:i,gender:o.value,telephone:c,gradeLevel:l.value,designation:s,ministry:d._id,isAdmin:!0,isSuper:!1,isStaff:!1},p=e.props.location,f=p.state,t.prev=5,!f||!f.edit){t.next=13;break}return t.next=9,h.a.put("/v1/user/update/".concat(f.id),u).then((function(){return e.setState({loading:!1})}));case 9:Object(I.b)("Successfully updated ",{closeOnClick:!0,autoClose:1e3}),e.props.history.goBack(),t.next=17;break;case 13:return t.next=15,h.a.post("/v1/user/add",u).then((function(){return Object(I.b)("Successfully created")}),{closeOnClick:!0,autoClose:1e3});case 15:e.setState({loading:!1}),e.props.history.goBack();case 17:t.next=24;break;case 19:t.prev=19,t.t0=t.catch(5),console.log("Error in ScreeningForm onSubmit method",t.t0),I.b.error("Oops! something went wrong. Please try again ",{closeOnClick:!0,autoClose:1e3}),e.setState({loading:!1});case 24:case"end":return t.stop()}}),t,null,[[5,19]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.fetchMinistry();var e=this.props.location.state;if(e&&e.edit&&e.data){var t=e.data,n=t.firstName,a=t.lastName,r=t.email,i=t.gender,o=t.telephone,c=t.gradeLevel,l=t.designation,s=t.ministry;console.log("state.data",e.data),this.setState({formData:{firstName:n,lastName:a,email:r,gender:{label:i,value:i},telephone:o,gradeLevel:{label:c,value:c},designation:l,ministry:s}})}}},{key:"render",value:function(){var e=this,t=this.state.showErrors,n=this.state,a=n.formData,i=n.loading,o=n.ministry,c=(this.props.match.params.id,this.props.location.state);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie,{l1Label:"Admin",l1Link:"/ministry/admin",l2Label:c&&c.edit?"Update Admin data":"Create ministry administrator",l2Link:"#",pageTitle:c&&c.edit?"Update Admin data":"Create ministry administrator"}),i?Object(r.jsx)(T.h,{active:!0,withOverlay:!0}):Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",mobilePageWidth:"full",children:Object(r.jsx)(R.b,{onSubmit:this.onSubmit,initialValues:a,validate:function(e){var n={};return e.ministry||(n.ministry={value:"Ministry name is required",show:t}),n},render:function(n){var a=n.values;n.onSave,n.valid,n.reset;return Object(r.jsxs)("form",{children:[Object(r.jsxs)(T.l,{noMargin:!0,children:[Object(r.jsx)(T.o,{children:Object(r.jsx)("span",{style:{fontSize:20},children:"Create administrator"})}),Object(r.jsxs)(T.m,{children:[Object(r.jsxs)(B.Row,{children:[Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(sn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"firstName",name:"firstName",type:"text",labelText:"First name"})})}),Object(r.jsx)(B.Col,{md:5,sm:5,xs:12,children:Object(r.jsx)(sn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"lastName",name:"lastName",type:"text",labelText:"Last name"})})})]}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(sn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"email",name:"email",type:"text",labelText:"Email"})})}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(sn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"telephone",name:"telephone",type:"text",labelText:"Telephone"})})}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(sn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"designation",name:"designation",type:"text",labelText:"Designation"})})}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(sn,{children:Object(r.jsx)(R.a,{component:T.p,name:"gradeLevel",labelText:"Grade level",placeholder:"Select grade level",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Grade level"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:Mt,getOptionValue:function(e){return e.value?e.value:e.id},getOptionLabel:function(e){return e.label}},t),n))]})}})})}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(sn,{children:Object(r.jsx)(R.a,{component:T.p,name:"gender",labelText:"gender",placeholder:"Select gender",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Gender"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:Et,getOptionValue:function(e){return e.value?e.value:e.id},getOptionLabel:function(e){return e.label}},t),n))]})}})})}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(sn,{children:Object(r.jsx)(R.a,{component:T.p,name:"ministry",labelText:"Ministry",placeholder:"Select ministry",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Ministry"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:o,getOptionValue:function(e){return e._id},getOptionLabel:function(e){return e.name}},t),n))]})}})})})]}),Object(r.jsxs)(T.n,{children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{style:{width:"100%",textAlign:"right",margin:"1.5rem 0"},children:[Object(r.jsx)(T.d,{kind:"secondary",onClick:function(){return e.props.history.goBack()},children:"Go back"}),Object(r.jsx)(T.d,{onClick:function(t){t.preventDefault(),e.onSubmit(a)},children:c&&c.edit?"Update":"Create"})]})]})]}),t&&Object(r.jsx)("div",{style:{padding:"5px",width:"100%",background:"#C5192D",color:"white",textAlign:"center"},children:"Please fill in all required fields"})]})}})})})]})}}]),n}(o.a.Component),ln=Object(g.g)(cn),sn=E.b.div(on()),dn=[{title:"Agency",role:"Type",amountLabel:"Section",comparator:function(e){return"Agency"==e.type}},{title:"Department",role:"Type",amountLabel:"Section",comparator:function(e){return"Department"==e.type}},{title:"Unit",role:"Type",amountLabel:"Section",comparator:function(e){return"Unit"==e.type}},{title:"Uncategorized",role:"Type",amountLabel:"Section",warning:!0,comparator:function(e){return null==e.type}}],un=function(e){var t=e.props,n=K.getState().user,a="/v1/department/department-list/".concat(n&&n._id),i=Object(m.b)(a).data,o=function(){return!0},c=i?i.data.data:null;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{id:"export-button-portal",children:[Object(r.jsx)(T.d,{onClick:function(e){t.history.push("/file")},icon:oe.o,kind:"secondary",small:!0,children:"Manage file"}),Object(r.jsx)("span",{style:{paddingLeft:20}}),Object(r.jsx)(T.d,{onClick:function(e){t.history.push("/create-department")},icon:oe.a,kind:"secondary",small:!0,children:"Create department"})]}),Object(r.jsx)(Dt,{title:"Departments",data:c,filters:dn,fetchData:o,gridConfig:Kt("department",o),exportFileName:"department details"})]})},pn=function(e){var t=e.props,n=t.user,a="/v1/user/staff-list/".concat(n&&n._id),i=Object(m.b)(a).data,o=function(){return Object(m.c)(a)},c=i?i.data.data:null;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{id:"export-button-portal",children:[Object(r.jsx)(T.d,{onClick:function(e){t.history.push("/file")},icon:oe.o,kind:"secondary",small:!0,children:"Manage file"}),Object(r.jsx)("span",{style:{paddingLeft:20}}),Object(r.jsx)(T.d,{onClick:function(){return t.history.push("/create-staff")},icon:oe.a,kind:"secondary",small:!0,children:"Create staff"})]}),Object(r.jsx)(Dt,{title:"Staff list",data:c,filters:[],fetchData:o,gridConfig:Kt("staff",o)})]})};function fn(){var e=Object(P.a)(["\n    position: relative;\n    padding-bottom: 1rem;;\n    #export-button-portal {\n        position: absolute;\n        right: 0;\n        top: -95px;\n    }\n"]);return fn=function(){return e},e}var bn=function(e){var t=e.index,n=e.selected,a=e.label,i=e.to,o=e.exact,c=e.handleTabClick;return Object(r.jsx)(g.b,{path:i,exact:o,children:function(e){var o=e.match;return o&&!n&&c(t,a),Object(r.jsx)("div",{className:o?"wfp--tabs__nav-item wfp--tabs__nav-item--selected":"wfp--tabs__nav-item",children:Object(r.jsx)(x.b,{className:"wfp--tabs__nav-link",to:i,children:a})})}})},mn=function(e){var t=[{permissions:!0,default:!0,label:"Department",path:"/department/list",component:function(){return Object(r.jsx)(un,{props:e})}},{permissions:!0,label:"Staff list",path:"/department/staff/list",component:function(){return Object(r.jsx)(pn,{props:e})}}],n=t.find((function(e){return e.default})),a=t.filter((function(e){return e.permissions}));return Object(r.jsxs)("div",{children:[Object(r.jsx)(ie,{l1Label:"Admin dashboard",l1Link:"#",pageTitle:"Traquer",tabs:Object(r.jsx)(T.z,{customTabContent:!0,children:a.map((function(e,t){return Object(r.jsx)(T.y,{label:e.label,to:e.path,renderListElement:bn},t)}))})}),Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",children:Object(r.jsx)(jn,{children:Object(r.jsxs)(g.d,{children:[a.map((function(e,t){return Object(r.jsx)(g.b,{path:e.path,render:e.component},t)})),Object(r.jsx)(g.a,{to:n?n.path:"/login"})]})})})})]})},jn=E.b.div(fn()),hn=mn;function xn(){var e=Object(P.a)(["\n    margin-bottom: 30px;\n"]);return xn=function(){return e},e}var gn=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={lastSaved:null,formData:null,showErrors:!1,loading:!1,admin:[]},e.onSubmit=function(){var t=Object(w.a)(y.a.mark((function t(n){var a,r,i,o,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({loading:!0}),a=e.props,r=a.location,i=a.userId,o=r.state,c={name:n.name,type:n.type.value},console.log("formData",c),t.prev=5,!o||!o.edit){t.next=13;break}return t.next=9,h.a.put("/v1/department/update/".concat(o.id),c).then((function(){return e.setState({loading:!1})}));case 9:Object(I.b)("Successfully updated a department",{closeOnClick:!0,autoClose:1e3}),e.props.history.goBack(),t.next=17;break;case 13:return t.next=15,h.a.post("/v1/department/add/".concat(i),c).then((function(){return e.setState({loading:!1})}));case 15:Object(I.b)("Successfully created department",{closeOnClick:!0,autoClose:1e3}),e.props.history.goBack();case 17:t.next=24;break;case 19:t.prev=19,t.t0=t.catch(5),console.log("Ooops! error occurred, please try again",t.t0),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),e.setState({loading:!1});case 24:case"end":return t.stop()}}),t,null,[[5,19]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.location.state;e&&e.edit&&e.data&&this.setState({formData:{name:e.data.name,type:{value:e.data.type,label:e.data.type}}})}},{key:"render",value:function(){var e=this,t=this.state.showErrors,n=this.state,a=n.formData,i=n.loading,o=(n.admin,this.props),c=o.location,l=(o.userId,c.state);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie,{l1Label:"Department",l1Link:"/department",l2Label:l&&l.edit?"Update department":"Create department",l2Link:"#",pageTitle:l&&l.edit?"Update department":"Create department"}),i?Object(r.jsx)(T.h,{active:!0,withOverlay:!0}):Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",mobilePageWidth:"full",children:Object(r.jsx)(R.b,{onSubmit:this.onSubmit,initialValues:a,validate:function(e){var n={},a=e.name,r=e.type;return a||(n.name={value:"Department name is required",show:t}),r||(n.name={value:"Department type is required",show:t}),n},render:function(n){var a=n.values;n.onSave,n.valid,n.reset;return Object(r.jsxs)("form",{children:[Object(r.jsxs)(T.l,{noMargin:!0,children:[Object(r.jsx)(T.o,{children:Object(r.jsx)("span",{style:{fontSize:20},children:l&&l.edit?"Update department":"Create department"})}),Object(r.jsxs)(T.m,{children:[Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(vn,{children:Object(r.jsx)(R.a,{component:T.p,name:"type",labelText:"Type",placeholder:"Select department type",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Department type"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:At,getOptionValue:function(e){return e.value},getOptionLabel:function(e){return e.label}},t),n))]})}})})}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(vn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"department",name:"name",type:"text",labelText:"Department name"})})})]}),Object(r.jsxs)(T.n,{children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{style:{width:"100%",textAlign:"right",margin:"1.5rem 0"},children:[Object(r.jsx)(T.d,{kind:"secondary",onClick:function(){return e.props.history.goBack()},children:"Go back"}),Object(r.jsx)(T.d,{onClick:function(t){t.preventDefault(),e.onSubmit(a)},disabled:!a.name||!a.type,children:l&&l.edit?"Update":"Create"})]})]})]}),t&&Object(r.jsx)("div",{style:{padding:"5px",width:"100%",background:"#C5192D",color:"white",textAlign:"center"},children:"Please fill in all required fields"})]})}})})})]})}}]),n}(o.a.Component),On=Object(O.b)((function(e){return{userId:e.user._id}}),null)(gn),vn=E.b.div(xn());function yn(){var e=Object(P.a)(["\n    position: relative;\n    padding-bottom: 1rem;;\n    #export-button-portal {\n        position: absolute;\n        right: 0;\n        top: -95px;\n    }\n"]);return yn=function(){return e},e}var wn=[{title:"Agency",role:"Type",amountLabel:"Section",comparator:function(e){return"Agency"==e.type}},{title:"Department",role:"Type",amountLabel:"Section",comparator:function(e){return"Department"==e.type}},{title:"Unit",role:"Type",amountLabel:"Section",comparator:function(e){return"Unit"==e.type}},{title:"Uncategorized",role:"Type",amountLabel:"Section",warning:!0,comparator:function(e){return null==e.type}}],kn=function(e){var t=e.id,n="/v1/department/details/".concat(t),a=Object(m.b)(n).data,i=function(){return!0},o=a?a.data.data.subDepartment:null;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie,{l1Label:"Traquer",l1Link:"/department",l2Label:"Department",l2Link:"/department",l3Label:"Sub department",l3Link:"#",pageTitle:"Traquer"}),Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",children:Object(r.jsxs)(Cn,{children:[Object(r.jsxs)("div",{id:"export-button-portal",children:[Object(r.jsx)(T.d,{onClick:function(n){e.history.push("/create-sub-department/".concat(t))},icon:oe.o,kind:"secondary",small:!0,children:"Manage file"}),Object(r.jsx)("span",{style:{paddingLeft:20}}),Object(r.jsx)(T.d,{onClick:function(n){e.history.push("/create-sub-department/".concat(t))},icon:oe.a,kind:"secondary",small:!0,children:"Create sub department"})]}),Object(r.jsx)(Dt,{title:"Sub Departments",data:o,filters:wn,fetchData:i,gridConfig:Kt("subDepartment",i),exportFileName:"sub department details"})]})})})]})},Cn=E.b.div(yn());function Sn(){var e=Object(P.a)(["\n    margin-bottom: 30px;\n"]);return Sn=function(){return e},e}var Nn=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={lastSaved:null,formData:null,showErrors:!1,loading:!1,admin:[]},e.onSubmit=function(){var t=Object(w.a)(y.a.mark((function t(n){var a,r,i,o,c,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({loading:!0}),a=e.props,r=a.location,i=a.id,o=a.userId,c=r.state,l={name:n.name,type:n.type.value},t.prev=4,!c||!c.edit){t.next=12;break}return t.next=8,h.a.put("/v1/department/sub/update/".concat(c.id),l).then((function(){return e.setState({loading:!1})}));case 8:Object(I.b)("Successfully updated sub department",{closeOnClick:!0,autoClose:1e3}),e.props.history.goBack(),t.next=16;break;case 12:return t.next=14,h.a.post("/v1/department/sub/add/".concat(i,"/").concat(o),l).then((function(){return e.setState({loading:!1})}));case 14:Object(I.b)("Successfully created a sub department",{closeOnClick:!0,autoClose:1e3}),e.props.history.goBack();case 16:t.next=23;break;case 18:t.prev=18,t.t0=t.catch(4),console.log("Ooops! error occurred, please try again",t.t0),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),e.setState({loading:!1});case 23:case"end":return t.stop()}}),t,null,[[4,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.location.state;e&&e.edit&&e.data&&this.setState({formData:{name:e.data.name,type:{value:e.data.type,label:e.data.type}}})}},{key:"render",value:function(){var e,t=this,n=this.state.showErrors,a=this.state,i=a.formData,o=a.loading,c=(a.admin,this.props),l=c.location,d=(c.id,l.state);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie,(e={l1Label:"Department",l1Link:"/department"},Object(Ue.a)(e,"l1Label","Sub Department"),Object(Ue.a)(e,"l1Link","#"),Object(Ue.a)(e,"l2Label",d&&d.edit?"Update sub department":"Create sub department"),Object(Ue.a)(e,"l2Link","#"),Object(Ue.a)(e,"pageTitle",d&&d.edit?"Update sub department":"Create sub department"),e)),o?Object(r.jsx)(T.h,{active:!0,withOverlay:!0}):Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",mobilePageWidth:"full",children:Object(r.jsx)(R.b,{onSubmit:this.onSubmit,initialValues:i,validate:function(e){var t={},a=e.name,r=e.type;return a||(t.name={value:"Sub Department name is required",show:n}),r||(t.name={value:"Sub Department type is required",show:n}),t},render:function(e){var a=e.values;e.onSave,e.valid,e.reset;return Object(r.jsxs)("form",{children:[Object(r.jsxs)(T.l,{noMargin:!0,children:[Object(r.jsx)(T.o,{children:Object(r.jsx)("span",{style:{fontSize:20},children:d&&d.edit?"Update Sub department":"Create Sub department"})}),Object(r.jsxs)(T.m,{children:[Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(Fn,{children:Object(r.jsx)(R.a,{component:T.p,name:"type",labelText:"Type",placeholder:"Select department type",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Sub Department type"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:At,getOptionValue:function(e){return e.value},getOptionLabel:function(e){return e.label}},t),n))]})}})})}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(Fn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"subdepartment",name:"name",type:"text",labelText:"Sub Department name"})})})]}),Object(r.jsxs)(T.n,{children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{style:{width:"100%",textAlign:"right",margin:"1.5rem 0"},children:[Object(r.jsx)(T.d,{kind:"secondary",onClick:function(){return t.props.history.goBack()},children:"Go back"}),Object(r.jsx)(T.d,{onClick:function(e){e.preventDefault(),t.onSubmit(a)},disabled:!a.name||!a.type,children:d&&d.edit?"Update":"Create"})]})]})]}),n&&Object(r.jsx)("div",{style:{padding:"5px",width:"100%",background:"#C5192D",color:"white",textAlign:"center"},children:"Please fill in all required fields"})]})}})})})]})}}]),n}(o.a.Component),_n=Object(O.b)((function(e){return{userId:e.user._id}}),null)(Nn),Fn=E.b.div(Sn());function Dn(){var e=Object(P.a)(["\n    margin-bottom: 30px;\n"]);return Dn=function(){return e},e}var Tn=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={lastSaved:null,formData:null,showErrors:!1,loading:!1,department:[]},e.fetchDept=Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{h.a.get("/v1/department").then((function(t){return e.setState({department:t.data})}))}catch(n){console.log("Error while loading department",n)}case 1:case"end":return t.stop()}}),t)}))),e.fetchSubDept=function(){var t=Object(w.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("fettingggh"),e.setState({loading:!0});try{h.a.get("/v1/department/details/".concat(n._id)).then((function(t){return e.setState({subDepartment:t.data.subDeparment,loading:!1})}))}catch(a){console.log("Error while loading sub department",a),e.setState({loading:!1})}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(){var t=Object(w.a)(y.a.mark((function t(n){var a,r,i,o,c,l,s,d,u,p,f,b,m;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({loading:!0}),a=n.firstName,r=n.lastName,i=n.email,o=n.gender,c=n.telephone,l=n.gradeLevel,s=n.designation,d=n.department,u=n.subDeparment,p=e.props.user,f={firstName:a,lastName:r,email:i,gender:o&&o.value,telephone:c,gradeLevel:l&&l.value,designation:s,ministry:p&&p.ministry,department:d&&d._id,subDeparment:u&&u._id,isAdmin:!1,isSuper:!1,isStaff:!0},b=e.props.location,m=b.state,t.prev=6,!m||!m.edit){t.next=14;break}return t.next=10,h.a.put("/v1/user/update/".concat(m.id),f).then((function(){return e.setState({loading:!1})}));case 10:Object(I.b)("Successfully updated ",{closeOnClick:!0,autoClose:1e3}),e.props.history.goBack(),t.next=18;break;case 14:return t.next=16,h.a.post("/v1/user/add/staff",f).then((function(){return Object(I.b)("Successfully created")}),{closeOnClick:!0,autoClose:1e3});case 16:e.setState({loading:!1}),e.props.history.goBack();case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(6),console.log("Error in ScreeningForm onSubmit method",t.t0),I.b.error("Oops! something went wrong. Please try again ",{closeOnClick:!0,autoClose:1e3}),e.setState({loading:!1});case 25:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.fetchDept();var e=this.props.location.state;if(e&&e.edit&&e.data){var t=e.data,n=t.firstName,a=t.lastName,r=t.email,i=t.gender,o=t.telephone,c=t.gradeLevel,l=t.designation,s=t.department;this.setState({formData:{firstName:n,lastName:a,email:r,gender:{label:i,value:i},telephone:o,gradeLevel:{label:c,value:c},designation:l,department:s}})}}},{key:"render",value:function(){var e=this,t=this.state.showErrors,n=this.state,a=n.formData,i=n.loading,o=n.department,c=n.subDeparment,l=(this.props.match.params.id,this.props.location.state);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie,{l1Label:"Admin dashboard",l1Link:"/department",l2Label:l&&l.edit?"Update staff":"Create staff",l2Link:"#",pageTitle:l&&l.edit?"Update staff":"Create staff"}),i?Object(r.jsx)(T.h,{active:!0,withOverlay:!0}):Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",mobilePageWidth:"full",children:Object(r.jsx)(R.b,{onSubmit:this.onSubmit,initialValues:a,validate:function(e){var n={},a=e.department,r=e.firstName,i=e.lastName,o=e.email,c=e.telephone,l=e.gender,s=e.designation;return r&&i&&o&&c&&l&&a&&s||(n.firstName={value:"Required",show:t}),n},render:function(n){var a=n.values,i=(n.onSave,n.valid);n.reset;return Object(r.jsxs)("form",{children:[Object(r.jsxs)(T.l,{noMargin:!0,children:[Object(r.jsx)(T.o,{children:Object(r.jsx)("span",{style:{fontSize:20},children:"Create Staff"})}),Object(r.jsxs)(T.m,{children:[Object(r.jsxs)(B.Row,{children:[Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(Pn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"firstName",name:"firstName",type:"text",labelText:"First name"})})}),Object(r.jsx)(B.Col,{md:5,sm:5,xs:12,children:Object(r.jsx)(Pn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"lastName",name:"lastName",type:"text",labelText:"Last name"})})})]}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(Pn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"email",name:"email",type:"text",labelText:"Email"})})}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(Pn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"telephone",name:"telephone",type:"text",labelText:"Telephone"})})}),Object(r.jsxs)(B.Row,{children:[Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(Pn,{children:Object(r.jsx)(R.a,{component:T.p,name:"gender",labelText:"gender",placeholder:"Select gender",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Gender"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:Et,getOptionValue:function(e){return e.value?e.value:e.id},getOptionLabel:function(e){return e.label}},t),n))]})}})})}),Object(r.jsx)(B.Col,{md:5,sm:5,xs:12,children:Object(r.jsx)(Pn,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"designation",name:"designation",type:"text",labelText:"Designation"})})})]}),Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(Pn,{children:Object(r.jsx)(R.a,{component:T.p,name:"gradeLevel",labelText:"Grade level",placeholder:"Select grade level",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Grade level"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:Mt,getOptionValue:function(e){return e.value?e.value:e.id},getOptionLabel:function(e){return e.label}},t),n))]})}})})}),Object(r.jsxs)(B.Row,{children:[Object(r.jsx)(B.Col,{md:6,sm:6,xs:12,children:Object(r.jsx)(Pn,{children:Object(r.jsx)(R.a,{component:T.p,name:"department",labelText:"Department",placeholder:"Select department",children:function(t){var n=t.input,a=t.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Department"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,onChange:function(t){return e.fetchSubDept(t)},options:o,getOptionValue:function(e){return e._id},getOptionLabel:function(e){return e.name}},n),a))]})}})})}),Object(r.jsx)(B.Col,{md:5,sm:5,xs:12,children:Object(r.jsx)(Pn,{children:Object(r.jsx)(R.a,{component:T.p,name:"subDepartment",labelText:"Sub Department",placeholder:"Select sub department",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Sub Department"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:c,getOptionValue:function(e){return e._id},getOptionLabel:function(e){return e.name}},t),n))]})}})})})]})]}),Object(r.jsxs)(T.n,{children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{style:{width:"100%",textAlign:"right",margin:"1.5rem 0"},children:[Object(r.jsx)(T.d,{kind:"secondary",onClick:function(){return e.props.history.goBack()},children:"Go back"}),Object(r.jsx)(T.d,{disabled:!i,onClick:function(t){t.preventDefault(),e.onSubmit(a)},children:l&&l.edit?"Update":"Create"})]})]})]}),t&&Object(r.jsx)("div",{style:{padding:"5px",width:"100%",background:"#C5192D",color:"white",textAlign:"center"},children:"Please fill in all required fields"})]})}})})})]})}}]),n}(o.a.Component),Ln=Object(O.b)((function(e){return{userId:e.user._id}}),null)(Tn),Pn=E.b.div(Dn()),En=[{title:"Service file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Service file"==e.type}},{title:"Management file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Management file"==e.type}},{title:"Uncategorized file",role:"Type",amountLabel:"FILE",warning:!0,comparator:function(e){return null==e.type}},{title:"Total files",role:"Type",amountLabel:"FILE",comparator:function(e){return e.type}}],An=function(e){var t=e.props,n=K.getState().user,a="/v1/file/incoming/".concat(n&&n._id),i=Object(m.b)(a).data,o=function(){return!0},c=i?i.data.data:null,l=!(!n||!n.permission)&&!(!n.permission.createManagementFile&&!n.permission.createServiceFile);return Object(r.jsxs)(r.Fragment,{children:[l&&Object(r.jsx)("div",{id:"export-button-portal",children:Object(r.jsx)(T.d,{onClick:function(e){t.history.push("/create-file")},icon:oe.a,kind:"secondary",small:!0,children:"Create file"})}),Object(r.jsx)(Dt,{title:"Incoming files",data:c,filters:En,fetchData:o,gridConfig:Kt("incomingFile",o),exportFileName:"incoming files"})]})},Mn=[{title:"Service file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Service file"==e.type}},{title:"Management file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Management file"==e.type}},{title:"Uncategorized file",role:"Type",amountLabel:"FILE",warning:!0,comparator:function(e){return null==e.type}},{title:"Total files",role:"Type",amountLabel:"FILE",comparator:function(e){return e.type}}],Bn=function(e){var t=e.props,n=K.getState().user,a="/v1/file/outgoing/".concat(n&&n._id),i=Object(m.b)(a).data,o=function(){return!0},c=i?i.data.data:null,l=!(!n||!n.permission)&&!(!n.permission.createManagementFile&&!n.permission.createServiceFile);return Object(r.jsxs)(r.Fragment,{children:[l&&Object(r.jsx)("div",{id:"export-button-portal",children:Object(r.jsx)(T.d,{onClick:function(e){t.history.push("/create-file")},icon:oe.a,kind:"secondary",small:!0,children:"Create file"})}),Object(r.jsx)(Dt,{title:"Outgoing files",data:c,filters:Mn,fetchData:o,gridConfig:Kt("outgoingFile",o),exportFileName:"incoming files"})]})},Rn=[{title:"Service file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Service file"==e.type}},{title:"Management file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Management file"==e.type}},{title:"Uncategorized file",role:"Type",amountLabel:"FILE",warning:!0,comparator:function(e){return null==e.type}},{title:"Total files",role:"Type",amountLabel:"FILE",comparator:function(e){return e.type}}],In=function(e){var t=e.props,n=K.getState().user,a="/v1/file/pending/".concat(n&&n._id),i=Object(m.b)(a).data,o=function(){return!0},c=i?i.data.data:null,l=!(!n||!n.permission)&&!(!n.permission.createManagementFile&&!n.permission.createServiceFile);return Object(r.jsxs)(r.Fragment,{children:[l&&Object(r.jsx)("div",{id:"export-button-portal",children:Object(r.jsx)(T.d,{onClick:function(e){t.history.push("/create-file")},icon:oe.a,kind:"secondary",small:!0,children:"Create file"})}),Object(r.jsx)(Dt,{title:"In-Process files",data:c,filters:Rn,fetchData:o,gridConfig:Kt("inProcessFile",o),exportFileName:"In-process files"})]})},zn=[{title:"Service file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Service file"==e.type}},{title:"Management file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Management file"==e.type}},{title:"Uncategorized file",role:"Type",amountLabel:"FILE",warning:!0,comparator:function(e){return null==e.type}},{title:"Total files",role:"Type",amountLabel:"FILE",comparator:function(e){return e.type}}],Gn=function(e){var t=e.props,n=K.getState().user,a="/v1/file/sent/".concat(n&&n._id),i=Object(m.b)(a).data,o=function(){return!0},c=i?i.data.data:null,l=c&&c.map((function(e){return{_id:e._id,fileNo:e.fileNo,name:e.name,type:e.type,sent:e.sent.filter((function(e){return e.sentBy&&e.sentBy._id==n._id}))}})),s=!(!n||!n.permission)&&!(!n.permission.createManagementFile&&!n.permission.createServiceFile);return Object(r.jsxs)(r.Fragment,{children:[s&&Object(r.jsx)("div",{id:"export-button-portal",children:Object(r.jsx)(T.d,{onClick:function(e){t.history.push("/create-file")},icon:oe.a,kind:"secondary",small:!0,children:"Create file"})}),Object(r.jsx)(Dt,{title:"Sent files",data:l,filters:zn,fetchData:o,gridConfig:Kt("sentFile",o),exportFileName:"sent files"})]})},Vn=[{title:"Service file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Service file"==e.type}},{title:"Management file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Management file"==e.type}},{title:"Uncategorized file",role:"Type",amountLabel:"FILE",warning:!0,comparator:function(e){return null==e.type}},{title:"Total files",role:"Type",amountLabel:"FILE",comparator:function(e){return e.type}}],qn=function(e){var t=e.props,n=K.getState().user,a="/v1/file/archived/".concat(n&&n._id),i=Object(m.b)(a).data,o=function(){return!0},c=i?i.data.data:null,l=!(!n||!n.permission)&&!(!n.permission.createManagementFile&&!n.permission.createServiceFile);return Object(r.jsxs)(r.Fragment,{children:[l&&Object(r.jsx)("div",{id:"export-button-portal",children:Object(r.jsx)(T.d,{onClick:function(e){t.history.push("/create-file")},icon:oe.a,kind:"secondary",small:!0,children:"Create file"})}),Object(r.jsx)(Dt,{title:"Archived files",data:c,filters:Vn,fetchData:o,gridConfig:Kt("archivedFile",o),exportFileName:"Archived files"})]})},Wn=[{title:"Service file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Service file"==e.type}},{title:"Management file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Management file"==e.type}},{title:"Uncategorized file",role:"Type",amountLabel:"FILE",warning:!0,comparator:function(e){return null==e.type}},{title:"Total files",role:"Type",amountLabel:"FILE",comparator:function(e){return e.type}}],Un=function(e){var t=e.props,n=K.getState().user,a="/v1/file/delayed/".concat(n&&n._id),i=Object(m.b)(a).data,o=function(){return!0},c=i?i.data.data:null,l=!(!n||!n.permission)&&!(!n.permission.createManagementFile&&!n.permission.createServiceFile);return Object(r.jsxs)(r.Fragment,{children:[l&&Object(r.jsx)("div",{id:"export-button-portal",children:Object(r.jsx)(T.d,{onClick:function(e){t.history.push("/create-file")},icon:oe.a,kind:"secondary",small:!0,children:"Create file"})}),Object(r.jsx)(Dt,{title:"Delayed files",data:c,filters:Wn,fetchData:o,gridConfig:Kt("delayedFile",o),exportFileName:"Delayed files"})]})},Hn=[{title:"Service file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Service file"==e.type}},{title:"Management file",role:"Type",amountLabel:"FILE",comparator:function(e){return"Management file"==e.type}},{title:"Uncategorized file",role:"Type",amountLabel:"FILE",warning:!0,comparator:function(e){return null==e.type}},{title:"Total files",role:"Type",amountLabel:"FILE",comparator:function(e){return e.type}}],Yn=function(e){var t=e.props,n=K.getState().user,a="/v1/file/registry/".concat(n&&n._id),i=Object(m.b)(a).data,o=function(){return!0},c=i?i.data.data:null,l=!(!n||!n.permission)&&!(!n.permission.createManagementFile&&!n.permission.createServiceFile);return Object(r.jsxs)(r.Fragment,{children:[l&&Object(r.jsx)("div",{id:"export-button-portal",children:Object(r.jsx)(T.d,{onClick:function(e){t.history.push("/create-file")},icon:oe.a,kind:"secondary",small:!0,children:"Create file"})}),Object(r.jsx)(Dt,{title:"Open Registry",data:c,filters:Hn,fetchData:o,gridConfig:Kt("registryFile",o),exportFileName:"Registry files"})]})};function Jn(){var e=Object(P.a)(["\n    position: relative;\n    padding-bottom: 1rem;;\n    #export-button-portal {\n        position: absolute;\n        right: 0;\n        top: -95px;\n    }\n"]);return Jn=function(){return e},e}var Xn=function(e){var t=e.index,n=e.selected,a=e.label,i=e.to,o=e.exact,c=e.handleTabClick;return Object(r.jsx)(g.b,{path:i,exact:o,children:function(e){var o=e.match;return o&&!n&&c(t,a),Object(r.jsx)("div",{className:o?"wfp--tabs__nav-item wfp--tabs__nav-item--selected":"wfp--tabs__nav-item",children:Object(r.jsx)(x.b,{className:"wfp--tabs__nav-link",to:i,children:a})})}})},Kn=function(e){var t=e.user,n=[{permissions:!0,default:!0,label:"Incoming file",path:"/file/incoming",component:function(){return Object(r.jsx)(An,{props:e})}},{permissions:!0,label:"Outgoing file",path:"/file/outgoing",component:function(){return Object(r.jsx)(Bn,{props:e})}},{permissions:!0,label:"In-Process file",path:"/file/pending",component:function(){return Object(r.jsx)(In,{props:e})}},{permissions:!0,label:"Sent file",path:"/file/sent",component:function(){return Object(r.jsx)(Gn,{props:e})}},{permissions:!0,label:"Delayed file",path:"/file/delayed",component:function(){return Object(r.jsx)(Un,{props:e})}},{permissions:!0,label:"Archived file",path:"/file/archived",component:function(){return Object(r.jsx)(qn,{props:e})}},{permissions:!(!t||!t.permission)&&!(!t.permission.createManagementFile&&!t.permission.createServiceFile),label:"Open Registry",path:"/file/registry",component:function(){return Object(r.jsx)(Yn,{props:e})}}],a=n.find((function(e){return e.default})),i=n.filter((function(e){return e.permissions}));return Object(r.jsxs)("div",{children:[Object(r.jsx)(ie,{l1Label:t.isStaff?"Manage File":"Admin dashboard",l1Link:t.isStaff?"#":"/department",l2Label:t.isAdmin?"Manage File":"",l2Link:t.isAdmin?"#":"",pageTitle:"Traquer",tabs:Object(r.jsx)(T.z,{customTabContent:!0,children:i.map((function(e,t){return Object(r.jsx)(T.y,{label:e.label,to:e.path,renderListElement:Xn},t)}))})}),Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",children:Object(r.jsx)(Qn,{children:Object(r.jsxs)(g.d,{children:[i.map((function(e,t){return Object(r.jsx)(g.b,{path:e.path,render:e.component},t)})),Object(r.jsx)(g.a,{to:a?a.path:"/login"})]})})})})]})},Qn=E.b.div(Jn()),Zn=Kn;function $n(){var e=Object(P.a)(["\n    margin-bottom: 30px;\n"]);return $n=function(){return e},e}var ea=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={lastSaved:null,formData:null,showErrors:!1,loading:!1,admin:[]},e.fetchFile=function(){var t=Object(w.a)(y.a.mark((function t(n){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.id,e.setState({loading:!0});try{h.a.get("/v1/file/history/".concat(a)).then((function(t){e.setState({file:t.data.data,history:t.data.data.history,loading:!1})}))}catch(n){console.log("Error while loading sub department",n),e.setState({loading:!1})}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.fetchFile();var e=this.props.location.state;e&&e.edit&&e.data&&this.setState({formData:{name:e.data.name,type:{value:e.data.type,label:e.data.type}}})}},{key:"render",value:function(){var e=this,t=(this.state.showErrors,this.state),n=(t.formData,t.loading),a=(t.admin,this.props),i=a.location;a.userId,i.state;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie,{l1Label:"Manage file",l1Link:"/file",l2Label:"File History",l2Link:"#",pageTitle:"Traquer"}),n?Object(r.jsx)(T.h,{active:!0,withOverlay:!0}):Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",mobilePageWidth:"full",children:Object(r.jsxs)(T.l,{noMargin:!0,children:[Object(r.jsx)(T.o,{children:Object(r.jsx)("span",{style:{fontSize:20},children:"File History"})}),Object(r.jsx)(T.m,{}),Object(r.jsxs)(T.n,{children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{style:{width:"100%",textAlign:"right",margin:"1.5rem 0"},children:Object(r.jsx)(T.d,{kind:"secondary",onClick:function(){return e.props.history.goBack()},children:"Go back"})})]})]})})})]})}}]),n}(o.a.Component),ta=Object(O.b)((function(e){return{userId:e.user._id}}),null)(ea),na=(E.b.div($n()),n(255),n(150));function aa(){var e=Object(P.a)(["\n    margin-bottom: 30px;\n    .SingleDatePicker {\n        position: relative;\n        order: 3;\n        width: 100%;\n    }\n    .DateInput {\n        width: 100%;\n    }\n    .SingleDatePickerInput {\n        width: 100%;\n    }\n"]);return aa=function(){return e},e}var ra=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={lastSaved:null,formData:null,showErrors:!1,loading:!1,date:Re()(),focused:null,serviceType:[]},e.onSubmit=function(){var t=Object(w.a)(y.a.mark((function t(n){var a,r,i,o,c,l,d;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({loading:!0}),a=e.props,r=a.location,i=a.userId,o=r.state,c={name:n.name,type:n.type.value,fileNo:n.fileNo,createdDate:e.state.date,serviceFileType:"Service file"==n.type.value?n.serviceType&&n.serviceType._id:null},t.prev=4,!o||!o.edit){t.next=14;break}return l=o&&o.data.fileNo?o.data.fileNo.slice(0,11):null,d=l?l+n.fileNo:n.fileNo,t.next=10,h.a.put("/v1/file/update/".concat(o.id),Object(s.a)(Object(s.a)({},c),{},{fileNo:d})).then((function(){return e.setState({loading:!1})}));case 10:Object(I.b)("File successfully updated",{closeOnClick:!0,autoClose:1e3}),e.props.history.goBack(),t.next=18;break;case 14:return t.next=16,h.a.post("/v1/file/add/".concat(i),c).then((function(){return e.setState({loading:!1})}));case 16:Object(I.b)("File successfully created",{closeOnClick:!0,autoClose:1e3}),e.props.history.goBack();case 18:t.next=25;break;case 20:t.prev=20,t.t0=t.catch(4),console.log("Ooops! error occurred, please try again",t.t0),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),e.setState({loading:!1});case 25:case"end":return t.stop()}}),t,null,[[4,20]])})));return function(e){return t.apply(this,arguments)}}(),e.fetchService=Object(w.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.user;try{h.a.get("/v1/service/file/".concat(n&&n.ministry)).then((function(t){return e.setState({serviceType:t.data})}))}catch(a){console.log("Error while loading department",a)}case 2:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.location.state;if(e&&e.edit&&e.data){var t=e.data&&e.data.fileNo?e.data.fileNo.slice(11):null;this.setState({formData:{name:e.data.name,type:{value:e.data.type,label:e.data.type},fileNo:t},date:e.data.createdDate?Re()(e.data.createdDate):Re()(),serviceType:{id:e.data.serviceFileType}})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.showErrors,a=t.serviceType,i=this.state,o=i.formData,c=i.loading,l=(i.admin,this.props),d=l.location,u=(l.userId,l.user),p=d.state,f=u&&u.permission?u.permission:{createServiceFile:!1,createManagementFile:!1},b=Bt.filter((function(e){return"Service file"==e.label&&e.createServiceFile==f.createServiceFile||"Management file"==e.label&&e.createManagementFile==f.createManagementFile}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie,{l1Label:"Manage File",l1Link:"/file",l2Label:p&&p.edit?"Update file":"Create file",l2Link:"#",pageTitle:p&&p.edit?"Update file":"Create file"}),c?Object(r.jsx)(T.h,{active:!0,withOverlay:!0}):Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",mobilePageWidth:"full",children:Object(r.jsx)(R.b,{onSubmit:this.onSubmit,initialValues:o,validate:function(e){var t={},a=e.name,r=e.type;return a||(t.name={value:"Department name is required",show:n}),r||(t.name={value:"Department type is required",show:n}),t},render:function(t){var i=t.values;t.onSave,t.valid,t.reset;return Object(r.jsxs)("form",{children:[Object(r.jsxs)(T.l,{noMargin:!0,children:[Object(r.jsx)(T.o,{children:Object(r.jsx)("span",{style:{fontSize:20},children:p&&p.edit?"Update File":"Create File"})}),Object(r.jsxs)(T.m,{children:[Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(oa,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"name",name:"name",type:"text",labelText:"File name/title"})})}),Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(oa,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"fileNo",name:"fileNo",type:"text",labelText:"File number"})})}),Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(oa,{children:Object(r.jsx)(R.a,{component:T.p,name:"type",labelText:"File Type",placeholder:"Select file type",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"File type"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:b,getOptionValue:function(e){return e.value},getOptionLabel:function(e){return e.label}},t),n))]})}})})}),b.filter((function(e){return"Service file"==e.label})).length>0&&Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(oa,{children:Object(r.jsx)(R.a,{component:T.p,name:"serviceType",labelText:"Service File Type",placeholder:"Select service file type",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Service File type"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:a,getOptionValue:function(e){return e._id},getOptionLabel:function(e){return e.name}},t),n),{},{isDisabled:i.type&&"Management file"==i.type.label}))]})}})})}),Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(oa,{children:Object(r.jsx)(R.a,{component:T.p,name:"date",id:"date",children:function(t){var n=t.input,a=t.meta;return Object(r.jsx)(T.t,Object(s.a)(Object(s.a)({date:e.state.date,datePicker:na.SingleDatePicker,inputIconPosition:"after",labelText:"Opening date",onDateChange:function(t){return e.setState({date:Re()(t)})},onChange:function(t){return e.setState({date:t})},focused:e.state.focused,onFocusChange:function(t){var n=t.focused;return e.setState({focused:n})},placeholder:"Select opening date",numberOfMonths:1,showDefaultInputIcon:!0,isOutsideRange:function(){return!1}},n),a))}})})})]}),Object(r.jsxs)(T.n,{children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{style:{width:"100%",textAlign:"right",margin:"1.5rem 0"},children:[Object(r.jsx)(T.d,{kind:"secondary",onClick:function(){return e.props.history.goBack()},children:"Go back"}),Object(r.jsx)(T.d,{onClick:function(t){t.preventDefault(),e.onSubmit(i)},disabled:!i.name||!i.type,children:p&&p.edit?"Update":"Create"})]})]})]}),n&&Object(r.jsx)("div",{style:{padding:"5px",width:"100%",background:"#C5192D",color:"white",textAlign:"center"},children:"Please fill in all required fields"})]})}})})})]})}}]),n}(o.a.Component),ia=Object(O.b)((function(e){return{userId:e.user._id,user:e.user}}),null)(ra),oa=E.b.div(aa());function ca(){var e=Object(P.a)(["\n    .wfp--main-navigation{\n        background-color: #1841BA;\n    }\n"]);return ca=function(){return e},e}function la(){var e=Object(P.a)(["\n    .wfp--wrapper.wfp--wrapper--width-md.wfp--wrapper--width-mobile-full.wfp--main-navigation__wrapper {\n        max-width: 1200px;\n    }\n"]);return la=function(){return e},e}var sa=E.b.div(la()),da=E.b.div(ca()),ua=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).closeMenu=function(){a.child.current&&a.child.current.props.onChangeSub("close")},a.child=o.a.createRef(),a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.location!=this.props.locaction&&this.closeMenu()}},{key:"render",value:function(){var e=this.props,t=e.logout,n=e.user,a=e.location;e.showSbpMenu;return n?Object(r.jsx)(r.Fragment,{children:"/login"===a.pathname?null:Object(r.jsx)(da,{children:Object(r.jsx)(sa,{children:Object(r.jsx)(T.i,{logo:Object(r.jsxs)("a",{href:"/",children:[" ","Traquer"]}),children:Object(r.jsx)(T.j,{className:"wfp--main-navigation__user",subNavigation:Object(r.jsx)(T.u,{children:Object(r.jsxs)(T.v,{children:[Object(r.jsxs)(T.x,{children:["Welcome ",n.firstName,"!"]}),Object(r.jsx)(T.w,{children:Object(r.jsx)(T.d,{kind:"primary",small:!0,onClick:function(){return t()},children:"Logout"})})]})}),children:Object(r.jsx)(T.C,{ellipsis:!0,title:""})})})})})}):null}}]),n}(o.a.Component),pa=Object(g.g)(Object(O.b)((function(e){return{user:e.user}}),(function(e){return{logout:function(){return e(N())}}}))(ua));function fa(){var e=Object(P.a)(["\n    margin-bottom: 30px;\n    .SingleDatePicker {\n        position: relative;\n        order: 3;\n        width: 100%;\n    }\n    .DateInput {\n        width: 100%;\n    }\n    .SingleDatePickerInput {\n        width: 100%;\n    }\n"]);return fa=function(){return e},e}var ba=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={lastSaved:null,formData:null,showErrors:!1,loading:!1,date:Re()(),focused:null,serviceType:[],deptList:[],staffList:[],department:{}},e.onSubmit=function(){var t=Object(w.a)(y.a.mark((function t(n){var a,r,i,o,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),a=e.props,r=a.location,i=a.userId,o=a.id,r.state,c={receiverId:n.designatedOfficer._id,sentDate:e.state.date,sentTime:e.state.date},t.prev=4,t.next=7,h.a.post("/v1/file/forward/".concat(o,"/").concat(i),c).then((function(){return e.setState({loading:!1})}));case 7:Object(I.b)("File successfully forwarded",{closeOnClick:!0,autoClose:1e3}),e.props.history.push("/file/outgoing"),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),console.log("Ooops! error occurred, please try again",t.t0),I.b.error("Ooops! error occurred, please try again",{closeOnClick:!0,autoClose:1e3}),e.setState({loading:!1});case 16:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}(),e.fetchDepartment=Object(w.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,n.user,n.id,e.setState({loading:!0});try{h.a.get("/v1/department").then((function(t){return e.setState({deptList:t.data,loading:!1})}))}catch(a){console.log("Error while loading department",a),e.setState({loading:!1})}case 3:case"end":return t.stop()}}),t)}))),e.fetchStaff=function(){var t=Object(w.a)(y.a.mark((function t(n){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,a.user,a.id,e.setState({loading:!0});try{h.a.get("/v1/department/staff/".concat(n&&n._id)).then((function(t){e.setState({staffList:t.data.data.staff,loading:!1})}))}catch(r){console.log("Error while loading department",r),e.setState({loading:!1})}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.validate=function(t){var n={},a=t.department,r=t.designatedOfficer;return a||(n.department={value:"Department name is required"}),r||(n.designatedOfficer={value:"Select receiver"}),a&&a!=e.state.department&&(e.fetchStaff(a),e.setState({department:a})),n},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.location.state;if(this.fetchDepartment(),e&&e.edit&&e.data){var t=e.data&&e.data.fileNo?e.data.fileNo.slice(11):null;this.setState({formData:{name:e.data.name,type:{value:e.data.type,label:e.data.type},fileNo:t},date:e.data.createdDate?Re()(e.data.createdDate):Re()(),serviceType:{id:e.data.serviceFileType}})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.showErrors,a=t.serviceType,i=t.deptList,o=this.state,c=o.formData,l=o.loading,d=o.staffList,u=this.props,p=u.location,f=(u.userId,u.user),b=(p.state,f&&f.permission?f.permission:{createServiceFile:!1,createManagementFile:!1}),m=Bt.filter((function(e){return"Service file"==e.label&&e.createServiceFile==b.createServiceFile||"Management file"==e.label&&e.createManagementFile==b.createManagementFile}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie,{l1Label:"Manage File",l1Link:"/file",l2Label:"File Transfer",l2Link:"#",pageTitle:"File Transfer"}),Object(r.jsx)(T.h,{active:l,withOverlay:!0}),Object(r.jsx)("div",{className:"wfp--module__background",style:{minHeight:"400px"},children:Object(r.jsx)(T.D,{pageWidth:"lg",spacing:"md",mobilePageWidth:"full",children:Object(r.jsx)(R.b,{onSubmit:this.onSubmit,initialValues:c,validate:function(t){return e.validate(t)},render:function(t){var o=t.values;t.onSave,t.valid,t.reset;return Object(r.jsxs)("form",{children:[Object(r.jsxs)(T.l,{noMargin:!0,children:[Object(r.jsx)(T.o,{children:Object(r.jsx)("span",{style:{fontSize:20},children:"Forward file"})}),Object(r.jsxs)(T.m,{children:[Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(ja,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"name",name:"name",type:"text",labelText:"File name/title",disabled:!0})})}),Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(ja,{children:Object(r.jsx)(R.a,{component:T.p,inputComponent:T.B,id:"fileNo",name:"fileNo",type:"text",labelText:"File number",disabled:!0})})}),Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(ja,{children:Object(r.jsx)(R.a,{component:T.p,name:"type",labelText:"File Type",placeholder:"Select file type",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label wfp--label--disabled",children:"File type"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:m,getOptionValue:function(e){return e.value},getOptionLabel:function(e){return e.label}},t),n),{},{isDisabled:!0}))]})}})})}),"Service file"==o.type&&Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(ja,{children:Object(r.jsx)(R.a,{component:T.p,name:"serviceType",labelText:"Service File Type",placeholder:"Select service file type",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label wfp--label--disabled",children:"Service File type"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:a,getOptionValue:function(e){return e._id},getOptionLabel:function(e){return e.name}},t),n),{},{isDisabled:!0}))]})}})})}),Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(ja,{children:Object(r.jsx)(R.a,{component:T.p,name:"department",labelText:"Destination",placeholder:"Select destination department",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label ",children:"Destination"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:i,getOptionValue:function(e){return e._id},getOptionLabel:function(e){return e.name}},t),n))]})}})})}),Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(ja,{children:Object(r.jsx)(R.a,{component:T.p,name:"designatedOfficer",labelText:"Designated officer",placeholder:"Select designated officer",children:function(e){var t=e.input,n=e.meta;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"wfp--label",children:"Designated officer"}),Object(r.jsx)(re.a,Object(s.a)(Object(s.a)({className:"wfp--react-select-container auto-width",classNamePrefix:"wfp--react-select",closeMenuOnSelect:!0,options:d,getOptionValue:function(e){return e._id},getOptionLabel:function(e){return e.firstName+" "+e.lastName}},t),n))]})}})})}),Object(r.jsx)(B.Col,{md:8,sm:8,xs:12,children:Object(r.jsx)(ja,{children:Object(r.jsx)(R.a,{component:T.p,name:"date",id:"date",children:function(t){var n=t.input,a=t.meta;return Object(r.jsx)(T.t,Object(s.a)(Object(s.a)({date:e.state.date,datePicker:na.SingleDatePicker,inputIconPosition:"after",labelText:"Date forwarded",onDateChange:function(t){return e.setState({date:Re()(t)})},onChange:function(t){return e.setState({date:t})},focused:e.state.focused,onFocusChange:function(t){var n=t.focused;return e.setState({focused:n})},placeholder:"Select opening date",numberOfMonths:1,showDefaultInputIcon:!0,isOutsideRange:function(){return!1}},n),a))}})})})]}),Object(r.jsxs)(T.n,{children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{style:{width:"100%",textAlign:"right",margin:"1.5rem 0"},children:[Object(r.jsx)(T.d,{kind:"secondary",onClick:function(){return e.props.history.goBack()},children:"CANCEL"}),Object(r.jsx)(T.d,{onClick:function(t){t.preventDefault(),e.onSubmit(o)},disabled:!o.designatedOfficer||!o.designatedOfficer._id,children:"FORWARD FILE"})]})]})]}),n&&Object(r.jsx)("div",{style:{padding:"5px",width:"100%",background:"#C5192D",color:"white",textAlign:"center"},children:"Please fill in all required fields"})]})}})})})]})}}]),n}(o.a.Component),ma=Object(O.b)((function(e){return{userId:e.user._id,user:e.user}}),null)(ba),ja=E.b.div(fa()),ha=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).timeOut=function(){return setTimeout((function(){return a.state.showModal?(a.setState({showModal:!1}),a.props.logout()):a.setState({showModal:!1})}),18e4)},a.toggleModal=function(){a.setState((function(e){return{showModal:!e.showModal}})),a.idleTimer.reset(),a.props.checkLoginStatus()},a.logOut=function(){a.setState((function(e){return{showModal:!1}})),a.props.logout()},a.state={timeout:6e5,showModal:!1,isTimedOut:!1},a.idleTimer=null,a.onIdle=a._onIdle.bind(Object(p.a)(a)),a}return Object(u.a)(n,[{key:"_onIdle",value:function(e){"/login"!=window.location.pathname&&(this.setState({showModal:!0}),this.timeOut())}},{key:"componentDidMount",value:function(){(0,this.props.checkLoginStatus)()}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=(t.error,t.comment,!!n);document.documentMode;return Object(r.jsxs)(m.a,{value:{fetcher:h.a,revalidateOnFocus:!1,dedupingInterval:300},children:[Object(r.jsx)(D.a,{ref:function(t){e.idleTimer=t},element:document,onIdle:this.onIdle,debounce:250,timeout:this.state.timeout}),Object(r.jsx)(x.a,{children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(g.d,{children:[Object(r.jsx)(g.b,{exact:!0,path:"/login",component:function(e){return Object(r.jsx)($,Object(s.a)({},e))}}),Object(r.jsx)(g.b,{exact:!0,path:"/activate",component:function(e){return Object(r.jsx)(ae,Object(s.a)({},e))}}),Object(r.jsx)(g.b,{exact:!0,path:"/reset-password",component:function(e){return Object(r.jsx)(je,Object(s.a)({},e))}}),Object(r.jsx)(pa,{})]}),a?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(g.d,{children:[Object(r.jsx)(F,{isAllowed:a,path:"/ministry",component:function(e){return Object(r.jsx)(rn,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/create-ministry",component:function(e){return Object(r.jsx)(se,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/create-admin",component:function(e){return Object(r.jsx)(ln,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/create-staff",component:function(e){return Object(r.jsx)(Ln,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/department",component:function(e){return Object(r.jsx)(hn,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/create-department",component:function(e){return Object(r.jsx)(On,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/sub/department/:id",component:function(e){return Object(r.jsx)(kn,Object(s.a)(Object(s.a)({},e),{},{id:e.match.params.id}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/create-sub-department/:id",component:function(e){return Object(r.jsx)(_n,Object(s.a)(Object(s.a)({},e),{},{user:n,id:e.match.params.id}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/file",component:function(e){return Object(r.jsx)(Zn,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/history/file/:id",component:function(e){return Object(r.jsx)(ta,Object(s.a)(Object(s.a)({},e),{},{user:n,id:e.match.params.id}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/create-file",component:function(e){return Object(r.jsx)(ia,Object(s.a)(Object(s.a)({},e),{},{user:n,id:e.match.params.id}))}}),Object(r.jsx)(F,{isAllowed:a,path:"/forward/file/:id",component:function(e){return Object(r.jsx)(ma,Object(s.a)(Object(s.a)({},e),{},{user:n,id:e.match.params.id}))}}),Object(r.jsx)(g.b,{path:"/sa-landing",component:function(){return Object(r.jsx)(ke,{})}})]})}):Object(r.jsx)(g.d,{children:Object(r.jsx)(g.a,{to:"/login"})}),Object(r.jsx)(I.a,{}),a&&Object(r.jsx)(fe,{}),Object(r.jsx)(T.k,{open:this.state.showModal,primaryButtonText:"Stay",onRequestSubmit:this.toggleModal,secondaryButtonText:"Log out",onSecondarySubmit:this.logOut,onRequestClose:this.toggleModal,modalHeading:"You have been inactive!",children:Object(r.jsx)("p",{className:"wfp--modal-content__text",children:"You will get timed out. You want to stay?"})})]})})]})}}]),n}(o.a.Component),xa=Object(O.b)((function(e){return{user:e.user}}),(function(e){return{checkLoginStatus:function(){return e((function(e){return h.a.get("/api/is-login").then((function(t){t.data.is_login&&e(S())}))}))},logout:function(){return e(N())}}}))(ha),ga=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,717)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};n(711);l.a.render(Object(r.jsx)(O.a,{store:K,children:Object(r.jsx)(xa,{})}),document.getElementById("root")),ga()}},[[712,1,2]]]);
//# sourceMappingURL=main.d7b4e962.chunk.js.map